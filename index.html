<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=1024"><title>Z S D</title><style>:root{--a:#173979;--b:#ff4d4d;--c:#007bff;--d:#ffe400;--e:20px;--f:16px;--g:.3s;--h:#ff9800;--i:#FFD700;--j:#ddd;--k:#ffffff;--l:0 12px 24px -8px rgba(0,0,0,0.08);--m:#2ecc71;--n:#95a5a6;--o:#2ecc71;--p:#e74c3c;--q:#f39c12}*{box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background-color:#f4f7f6;margin:0;padding:0}#a{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#1a2f3f,#0f1a24);z-index:30000;display:flex;justify-content:center;align-items:center;transition:opacity .5s ease}.b{text-align:center;padding:40px;background:rgba(255,255,255,0.05);border-radius:30px;backdrop-filter:blur(10px);box-shadow:0 20px 40px rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.3);animation:.5s ease}.c{width:80px;height:80px;margin:0 auto 25px;border:5px solid #fff;border-top:5px solid var(--a);border-right:5px solid var(--a);border-radius:50%;animation:1s cubic-bezier(0.68,-0.55,0.265,1.55) infinite;box-shadow:0 0 20px rgba(76,175,80,0.3)}#d{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#1a1a1a,#333);z-index:50000;justify-content:center;align-items:center;backdrop-filter:blur(5px)}#d .e{background:#fff;border-radius:24px;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);animation:.4s ease;max-height:90vh;overflow-y:auto}.f{background:0 0!important}.f:hover{background:0 0!important}.f td{border:none!important;padding:0!important;background:0 0!important}.g{width:60px;height:60px;background:linear-gradient(145deg,#f0f7f4,#e0ebe8);border-radius:16px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;position:relative;border:2px solid transparent;box-shadow:0 4px 12px rgba(0,0,0,0.05)}.g:hover{transform:translateY(-4px);border-color:var(--a);box-shadow:0 8px 20px rgba(23,57,121,0.15)}.g .h{position:absolute;top:-8px;right:-8px;background:var(--a);color:#fff;border-radius:20px;padding:4px 8px;font-size:11px;font-weight:700;min-width:24px;text-align:center;box-shadow:0 2px 8px rgba(23,57,121,0.3);border:2px solid #fff}.g .i{font-size:28px}#j{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:50000;justify-content:center;align-items:center;backdrop-filter:blur(10px)}.k{width:90%;height:90%;background:#fff;border-radius:32px;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);animation:.4s ease}.l{background:linear-gradient(135deg,var(--a),#0f2a4a);color:#fff;padding:20px 30px;display:flex;justify-content:space-between;align-items:center}.l h3{margin:0;font-size:1.3rem;font-weight:600;display:flex;align-items:center;gap:10px}.l h3 span{background:rgba(255,255,255,0.2);padding:4px 12px;border-radius:30px;font-size:.9rem}.m{background:rgba(255,255,255,0.1);border:none;color:#fff;width:40px;height:40px;border-radius:12px;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.m:hover{background:rgba(255,255,255,0.2);transform:rotate(90deg)}.n{flex:1;padding:30px;overflow-y:auto;background:#f8fafc}.o{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:25px}.p{background:#fff;border-radius:24px;overflow:hidden;box-shadow:0 8px 20px rgba(0,0,0,0.02);border:1px solid #eef2f6;transition:all .3s;animation:.5s ease}.p:hover{transform:translateY(-6px);box-shadow:0 20px 30px -10px rgba(23,57,121,0.15);border-color:var(--a)}.q{height:180px;background:linear-gradient(145deg,#f8fafc,#edf2f7);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.q img{width:100%;height:100%;object-fit:cover;transition:transform .5s}.p:hover .q img{transform:scale(1.05)}.r{font-size:64px;color:var(--a);opacity:.7}.s{padding:18px}.t{font-weight:600;color:#2c3e50;margin-bottom:8px;word-break:break-word;font-size:14px}.u{display:flex;justify-content:space-between;align-items:center;font-size:12px;color:#7f8c8d;margin-bottom:15px}.v{background:#e8f0fe;color:var(--a);padding:4px 12px;border-radius:30px;font-weight:600;font-size:11px}.w{display:flex;gap:10px}.x{flex:1;padding:10px;border:none;border-radius:12px;font-size:12px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:5px;transition:all .2s}.x.view{background:var(--a);color:#fff}.x.view:hover{background:#0f2a4a}.x.download{background:#ecf0f1;color:#34495e}.x.download:hover{background:#dfe6e9}#y{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);z-index:60000;flex-direction:column}.z{padding:20px 30px;background:linear-gradient(135deg,#1a1a1a,#000);color:#fff;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #333}.z .aa{font-size:1.2rem;display:flex;align-items:center;gap:15px}.z .ab{background:rgba(255,255,255,0.1);border:none;color:#fff;width:44px;height:44px;border-radius:12px;font-size:24px;cursor:pointer;transition:all .3s}.z .ab:hover{background:rgba(255,255,255,0.2);transform:rotate(90deg)}.ac{flex:1;display:flex;align-items:center;justify-content:center;padding:20px;overflow:auto}.ac img{max-width:100%;max-height:80vh;object-fit:contain;border-radius:8px;box-shadow:0 20px 40px rgba(0,0,0,0.3)}.ac iframe{width:100%;height:80vh;border:none;border-radius:8px;background:#fff}.ad{padding:20px 30px;background:#1a1a1a;color:#fff;display:flex;justify-content:flex-end;gap:15px;border-top:1px solid #333}.ae{padding:12px 30px;border:none;border-radius:12px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:10px;transition:all .3s}.ae.download{background:var(--a);color:#fff}.ae.download:hover{background:#0f2a4a;transform:translateY(-2px)}#af{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:45000;justify-content:center;align-items:center;backdrop-filter:blur(5px)}.ag{background:#fff;border-radius:32px;width:450px;max-width:95%;padding:40px;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);animation:.4s ease}.ah{text-align:center;margin-bottom:30px}.ah .ai{font-size:48px;background:linear-gradient(135deg,var(--a),#0f2a4a);width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;color:#fff}.ah h3{color:#2c3e50;margin:0;font-size:1.5rem}.aj{margin-bottom:20px}.aj label{display:block;margin-bottom:8px;font-weight:600;color:#555;font-size:14px}.ak{position:relative}.ak input{width:100%;padding:14px 45px 14px 15px;border:2px solid #e0e0e0;border-radius:16px;font-size:15px;transition:all .3s}.ak input:focus{border-color:var(--a);outline:none;box-shadow:0 0 0 4px rgba(23,57,121,0.1)}.al{position:absolute;right:15px;top:50%;transform:translateY(-50%);cursor:pointer;color:#95a5a6;font-size:18px}.am{margin-top:8px;height:4px;background:#ecf0f1;border-radius:2px;overflow:hidden}.am .an{height:100%;width:0;transition:all .3s}.am .an.weak{background:#e74c3c;width:33%}.am .an.medium{background:#f39c12;width:66%}.am .an.strong{background:#2ecc71;width:100%}.ao{font-size:13px;margin-top:5px;display:flex;align-items:center;gap:5px}.ao.match{color:#2ecc71}.ao.no-match{color:#e74c3c}.ap{display:flex;gap:15px;margin-top:30px}.ap button{flex:1;padding:14px;border:none;border-radius:16px;font-weight:600;cursor:pointer;transition:all .3s}.aq{background:var(--a);color:#fff}.aq:hover{background:#0f2a4a;transform:translateY(-2px);box-shadow:0 8px 20px rgba(23,57,121,0.3)}.ar{background:#ecf0f1;color:#34495e}.ar:hover{background:#dfe6e9}.as{position:relative;display:inline-block}.as .at{background:var(--a);color:#fff;border:none;padding:10px 20px;border-radius:30px;cursor:pointer;display:flex;align-items:center;gap:8px;font-weight:600;transition:all .3s;position:relative;z-index:1001}.as .at:hover{background:#0f2a4a;transform:translateY(-2px)}.as .au{position:absolute;top:calc(100% + 5px);right:0;background:#fff;min-width:220px;border-radius:16px;box-shadow:0 15px 40px rgba(0,0,0,0.2);overflow:hidden;z-index:1000;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .3s ease;border:1px solid rgba(0,0,0,0.05)}.as:hover .au,.as .au:hover{opacity:1;visibility:visible;transform:translateY(0)}.au .av{padding:14px 20px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px;color:#2c3e50;font-size:14px;border-bottom:1px solid #f0f0f0}.f{background:0 0!important}.f:hover{background:0 0!important}.f td{border:none!important;padding:0!important;background:0 0!important}.aw{transition:all .2s}.aw:hover{opacity:.85;transform:translateY(-1px)}.as::after{content:'';position:absolute;bottom:-10px;left:0;width:100%;height:15px;background:0 0;z-index:1000}.au .av:last-child{border-bottom:none}.au .av:hover{background:#f8f9fa;color:var(--a);padding-left:25px}.au .av i,.au .av span:first-child{font-size:18px;width:24px;text-align:center}.au .ax{height:1px;background:#ecf0f1;margin:5px 0}.au::before{content:'';position:absolute;top:-6px;right:30px;width:12px;height:12px;background:#fff;transform:rotate(45deg);border-left:1px solid rgba(0,0,0,0.05);border-top:1px solid rgba(0,0,0,0.05)}@keyframes ay{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes az{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes aA{from{opacity:0}to{opacity:1}}@keyframes aB{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes aC{0%{opacity:0;transform:scale(0.9)}100%{opacity:1;transform:scale(1)}}.aD{color:#fff;font-size:20px;font-weight:500;letter-spacing:2px;margin-top:15px;text-transform:uppercase;background:linear-gradient(90deg,#fff,#173979,#fff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-size:200% auto;animation:2s linear infinite}.aE{color:#95a5a6;font-size:14px;margin-top:10px;font-style:italic}.aF{display:flex;justify-content:center;gap:8px;margin-top:20px}.aG{width:10px;height:10px;background-color:var(--a);border-radius:50%;animation:1.4s infinite ease-in-out}.aG:nth-child(1){animation-delay:-0.32s}.aG:nth-child(2){animation-delay:-0.16s}#aH{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);z-index:40000;display:none;justify-content:center;align-items:center;animation:.5s ease}.aI{background:rgba(255,255,255,0.95);padding:60px 40px;border-radius:30px;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);text-align:center;max-width:500px;width:90%;backdrop-filter:blur(10px);animation:.6s ease}.aJ{font-size:80px;margin-bottom:20px;animation:2s infinite}.aK{font-size:32px;font-weight:800;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:10px}.aL{color:#666;font-size:18px;margin-bottom:30px;line-height:1.6}.aM{background:linear-gradient(135deg,#667eea,#764ba2);padding:30px;border-radius:20px;margin-bottom:30px;color:#fff}.aN{font-size:48px;font-weight:800;font-family:monospace;margin-bottom:10px;text-shadow:0 2px 10px rgba(0,0,0,0.2)}.aO{font-size:16px;opacity:.9;margin-top:10px}.aP{width:100%;height:10px;background:rgba(255,255,255,0.3);border-radius:5px;margin-top:20px;overflow:hidden}.aQ{height:100%;background:#fff;border-radius:5px;transition:width 1s linear}.aR{background:0 0;border:2px solid #667eea;color:#667eea;padding:15px 40px;border-radius:50px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s;margin-top:20px}.aR:hover{background:#667eea;color:#fff;transform:translateY(-2px);box-shadow:0 10px 20px rgba(102,126,234,0.3)}@keyframes aS{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@keyframes aT{0%{box-shadow:0 0 0 0 rgba(255,77,77,0.7)}70%{box-shadow:0 0 0 10px rgba(255,77,77,0)}100%{box-shadow:0 0 0 0 rgba(255,77,77,0)}}.aU{position:relative}.aU::after{content:'';position:absolute;top:-3px;right:-3px;width:10px;height:10px;background:#ff4d4d;border-radius:50%;animation:1.5s infinite;border:2px solid #fff}.aV{position:relative!important;overflow:visible!important}.aV::after{content:''!important;position:absolute!important;top:5px!important;right:5px!important;width:10px!important;height:10px!important;background:#ff4d4d!important;border-radius:50%!important;animation:1.5s infinite!important;border:2px solid #fff!important;z-index:1000!important}@keyframes az{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes aA{from{opacity:0}to{opacity:1}}@keyframes aB{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes aC{0%{opacity:0;transform:scale(0.9)}100%{opacity:1;transform:scale(1)}}@keyframes aW{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}@keyframes aX{0%,80%,100%{transform:scale(0);opacity:.3}40%{transform:scale(1);opacity:1}}@keyframes aY{0%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.5)}100%{opacity:1;transform:scale(1)}}.aZ{position:absolute;width:12px;height:12px;background-color:#ff4d4d;border-radius:50%;animation:1s infinite;z-index:9999;box-shadow:0 0 10px #ff4d4d}.a_{position:absolute;top:-5px;right:-5px;width:12px;height:12px;background:#ff4d4d;border-radius:50%;box-shadow:0 0 0 rgba(255,77,77,0.4);animation:1.5s infinite}.ba li a,.ba button{position:relative;overflow:visible!important}.bb{position:relative}.bb::after{content:'';position:absolute;top:-5px;right:-5px;width:10px;height:10px;background:#ff4d4d;border-radius:50%;animation:1.5s infinite}#bc{display:none;position:fixed;z-index:50000;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);justify-content:center;align-items:center}.bd{background:#fff;padding:30px;border-radius:16px;width:450px;max-width:95%}.be{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin:15px 0;font-family:inherit;resize:vertical;min-height:100px}#bf{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#1a1a1a,#333);z-index:20000;display:flex;justify-content:center;align-items:center}.bg{background:#fff;padding:40px;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.5);width:400px;text-align:center}.bg img{margin-bottom:20px}.bg input{width:100%;padding:12px;margin:10px 0;border:1px solid #ddd;border-radius:5px}.bh{position:relative}.bi{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer}.bj{width:100%;padding:20px 0;color:#fff;text-align:center;background-size:cover;background-position:center;transition:background-image 1.5s ease-in-out;text-shadow:2px 2px 4px rgba(0,0,0,0.7)}.ba{list-style:none;padding:0;background:#333;margin:0;display:flex;justify-content:center;flex-wrap:wrap}.ba li a{display:block;padding:15px 25px;text-decoration:none;font-weight:700;color:#fff;transition:.3s;cursor:pointer}.ba li a:hover{color:var(--d)}.bk{padding:40px 20px;max-width:1200px;margin:0 auto}.bl{display:grid;grid-template-columns:repeat(5,1fr);gap:25px;margin-top:20px}.bm{background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 10px 20px rgba(0,0,0,0.05);transition:all .4s cubic-bezier(0.175,0.885,0.32,1.275);text-decoration:none;color:#333;display:flex;flex-direction:column;cursor:pointer;border:1px solid rgba(76,175,80,0.1);position:relative}.bm:hover{transform:translateY(-10px);box-shadow:0 20px 30px rgba(76,175,80,0.15);border-color:var(--a)}.bm .bn{width:100%;height:160px;overflow:hidden;position:relative;background:linear-gradient(145deg,#f0f7f4,#e0ebe8);display:flex;align-items:center;justify-content:center}.bm img{width:100%;height:100%;object-fit:cover;transition:transform .6s ease}.bm:hover img{transform:scale(1.08)}.bo{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:56px;font-weight:300;color:#fff;text-shadow:0 4px 10px rgba(0,0,0,0.2);background:radial-gradient(circle at 30% 30%,#173979,#2c6b2c)}.bm span{padding:18px 12px;text-align:center;font-weight:600;font-size:1rem;background:#fff;color:#1e3b37;border-top:1px solid #f0f0f0;letter-spacing:.3px}.bm:hover span{color:var(--a);background:#fafffc}.bp{background:var(--b);padding:5px 10px;font-size:12px;border:none;border-radius:4px;color:#fff;cursor:pointer;display:inline-block}.bp:hover{opacity:.85}.bq{background:#fff;padding:20px;text-align:center;border-radius:50px;box-shadow:0 5px 15px rgba(0,0,0,0.03);display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-bottom:30px}#br,#bs,#bt,#bu,#bv,#bw{display:none;padding:40px 20px;max-width:1300px;margin:0 auto}.bx{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden;font-size:14px;box-shadow:0 2px 8px rgba(0,0,0,0.03)}.bx th,.bx td{padding:12px;border:1px solid #ddd;text-align:left}.bx th{background:var(--a);color:#fff}.by{padding:10px 20px;border:none;border-radius:30px;cursor:pointer;font-weight:700;color:#fff;transition:.2s}.by:hover{opacity:.85;transform:scale(0.98)}.bz{background:var(--a)}.bA{background:#607d8b;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin-bottom:20px}.bB{background:#f39c12;padding:5px 10px;font-size:12px;border-radius:4px;color:#fff;border:none;display:inline-block;margin-right:5px}.bC{background:#e67e22;padding:5px 10px;font-size:12px;border-radius:4px;color:#fff;border:none;display:inline-block}.bD{background:#9b59b6;padding:5px 10px;font-size:12px;border-radius:4px;color:#fff;border:none}.bE{background:#9b59b6}.bF{background:#e67e22}.bG{background:#34495e;padding:8px 15px;font-size:13px}.bH{display:none;position:fixed;z-index:10000;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.9);backdrop-filter:blur(10px);justify-content:center;align-items:center}.bH .bI{background:#fff;padding:25px;border-radius:10px;width:500px;max-height:80vh;overflow-y:auto}.bJ{width:20px;height:60px;background:#f0f0f0;border-radius:10px;overflow:hidden;position:relative;border:1px solid #ddd;margin:0 auto}.bK{width:100%;background:linear-gradient(to top,#2ecc71,#173979);transition:height .5s ease;position:absolute;bottom:0}.bK.bL{background:linear-gradient(to top,#f39c12,#e67e22)}.bK.bM{background:linear-gradient(to top,#e74c3c,#c0392b)}.bN{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;color:#fff;text-shadow:0 0 3px rgba(0,0,0,0.5)}.bO{display:inline-block;padding:4px 8px;border-radius:50px;font-size:10px;font-weight:700;color:#fff;margin:2px;text-transform:uppercase}.bP{background:#2ecc71}.bQ{background:#e74c3c}.bR{background:#f39c12}.bS{display:inline-flex;gap:2px}.bT.filled{color:var(--i)}.bU{margin-left:5px;font-weight:700}.bV{width:60px;height:60px;object-fit:cover;border-radius:8px;cursor:pointer;border:2px solid #fff;box-shadow:0 2px 6px rgba(0,0,0,0.1);margin:2px}.bW{background:#fff;border-radius:20px;padding:30px;box-shadow:0 4px 6px rgba(0,0,0,0.1)}.bX{display:grid;grid-template-columns:repeat(2,1fr);gap:30px;margin:30px 0}.bY{display:grid;grid-template-columns:repeat(2,1fr);gap:30px;margin-top:30px}.bZ{position:fixed;top:100px;right:20px;width:300px;background:#fff;border-radius:12px;box-shadow:0 4px 25px rgba(0,0,0,0.15);z-index:1000;display:none}.b_{position:fixed;top:20px;right:20px;padding:15px 20px;background:#173979;color:#fff;border-radius:5px;z-index:10000;display:none}.b_{width:12px;height:12px;border-radius:50%;display:inline-block;margin-right:6px}.b`{background:#2ecc71;box-shadow:0 0 0 rgba(46,204,113,0.4);animation:2s infinite}.ba{background:#95a5a6}.bb{animation:1.5s infinite}@keyframes bc{0%{box-shadow:0 0 0 0 rgba(46,204,113,0.6)}70%{box-shadow:0 0 0 10px rgba(46,204,113,0)}100%{box-shadow:0 0 0 0 rgba(46,204,113,0)}}@keyframes bd{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}.be{width:100%;border-collapse:collapse;font-size:13px}.bf{padding:3px 8px;border-radius:30px;color:#fff;font-size:11px;margin-left:5px;display:inline-block}.bg{background:#9b59b6}.bh{background:#3498db}.bi{background:#2ecc71}.bj{display:none!important}.bk{display:none}.bl{display:flex;justify-content:center;align-items:center;gap:15px;margin-top:20px;padding:15px}.bm{padding:16px;border-bottom:1px solid #e0e0e0;font-size:13px;transition:background .2s}.bm:hover{background:#f5f9ff}.bn{color:#666;font-size:11px;font-family:monospace;background:#f0f0f0;padding:4px 8px;border-radius:12px}.bo{font-weight:700;color:#2c3e50;background:#e8f5e9;padding:4px 10px;border-radius:20px;display:inline-block;font-size:12px;margin-left:10px}.bp{background:#e3f2fd;padding:4px 12px;border-radius:20px;font-size:11px;font-weight:600;display:inline-block}.bq{margin-top:8px;padding:12px;background:#f8f9fa;border-radius:8px;font-size:12px;border-left:3px solid var(--a)}.br{width:100%;height:8px;background-color:#f0f0f0;border-radius:4px;overflow:hidden;margin-top:5px}.bs{height:100%;transition:width .3s ease}.bs.bt{background:linear-gradient(90deg,#2ecc71,#27ae60)}.bs.bu{background:linear-gradient(90deg,#e74c3c,#c0392b)}.bv{background:#f9f9f9;border-left:4px solid var(--h);padding:15px;margin-bottom:10px;border-radius:8px}.bw{display:none;position:fixed;z-index:15000;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);justify-content:center;align-items:center}.bx{background:#fff;padding:30px;border-radius:16px;width:450px;max-width:95%}.by{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin:15px 0;font-family:inherit;resize:vertical;min-height:100px}.bz{display:flex;gap:10px;margin-bottom:20px;border-bottom:2px solid #e0e0e0;padding-bottom:10px}.bA{padding:10px 20px;border-radius:30px;background:#f0f0f0;color:#333;cursor:pointer;font-weight:600;transition:all .2s}.bA.active{background:var(--a);color:#fff}.bA:hover{background:#e0e0e0}.bA.active:hover{background:var(--a)}.bB{display:flex;gap:5px;flex-wrap:wrap}.bC{background:#ff4d4d;color:#fff;border-radius:20px;padding:2px 8px;font-size:12px;margin-left:8px;display:inline-block;font-weight:700}.bD{background:#95a5a6}.bE{display:flex;gap:15px;margin:20px 0;padding:20px;background:#fff;border-radius:50px;box-shadow:0 5px 15px rgba(0,0,0,0.03);justify-content:center}.bE button{padding:12px 24px}.bF{color:var(--c);text-decoration:none;cursor:pointer}.bF:hover{text-decoration:underline}.bG{color:var(--c);text-decoration:none;cursor:pointer}.bG:hover{text-decoration:underline}.bH{color:var(--a);text-decoration:none;cursor:pointer;font-weight:600}.bH:hover{text-decoration:underline}.bI{position:relative;display:inline-block}.bJ{display:none;position:absolute;background:#fff;min-width:300px;max-width:400px;box-shadow:0 8px 16px rgba(0,0,0,0.2);z-index:1000;border-radius:12px;padding:15px;font-size:12px;border:1px solid #e0e0e0;right:0}.bI:hover .bJ{display:block}.bK{padding:8px;border-bottom:1px solid #f0f0f0}.bK:last-child{border-bottom:none}.bL{font-weight:700;color:#e67e22;text-transform:capitalize}.bM{color:#e74c3c;text-decoration:line-through;background:#fee9e7;padding:2px 5px;border-radius:4px}.bN{color:#27ae60;background:#e8f8f5;padding:2px 5px;border-radius:4px}@keyframes bO{0%{box-shadow:0 0 0 0 rgba(255,77,77,0.7)}70%{box-shadow:0 0 0 10px rgba(255,77,77,0)}100%{box-shadow:0 0 0 0 rgba(255,77,77,0)}}@media (max-width:900px){.bl{grid-template-columns:repeat(2,1fr)}.ba{flex-direction:column}.bX{grid-template-columns:1fr}.bY{grid-template-columns:1fr}.bH .bI{width:95%}}@media (max-width:480px){.bl{grid-template-columns:1fr}}</style></head><body><div id="bP" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:99999;color:#fff;text-align:center;padding-top:20%;font-size:24px;font-weight:700">‚ö†Ô∏è THIS APPLICATION CAN ONLY BE OPENED IN ONE TAB<br><span style="font-size:18px;color:#ff4d4d;margin-top:20px;display:block;">Please close this tab and use the existing tab.</span><button onclick="bQ()" style="margin-top:40px;padding:15px 30px;background:#173979;color:#fff;border:none;border-radius:5px;cursor:pointer;">FORCE TAKEOVER (Close Other Tab)</button></div><div id="a"><div class="b"><div class="c"></div><div class="aD">Zed Supplier Directory</div><div class="aE">Loading your experience...</div><div class="aF"><div class="aG"></div><div class="aG"></div><div class="aG"></div></div></div></div><div id="aH"><div class="aI"><div class="aJ">üîí</div><h1 class="aK">System Locked</h1><p class="aL">Access to the system is restricted during operating hours only</p><div class="aM"><div class="aN" id="bR">00:00:00</div><div class="aO" id="bS">Next unlock: 07:30:00</div><div class="aP"><div class="aQ" id="bT" style="width:0%"></div></div></div><button class="aR" onclick="bU()">‚Üê Back to Login</button></div></div><div id="bV" style="display:none;position:fixed;top:0;left:0;width:100%;background:#ff4d4d;color:#fff;text-align:center;padding:15px;z-index:30000;font-weight:bold">‚ö†Ô∏è SYSTEM ALERT: Scheduled lockout at 16:50. Super admin and admin bypass active.</div><div id="bf" style="display:flex"><div class="bg"><img src="./images/mainlogo.png" width="100" alt="logo" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'100\' height=\'100\' viewBox=\'0 0 100 100\'><rect width=\'100\' height=\'100\' fill=\'%23173979\'/><text x=\'50\' y=\'55\' font-size=\'40\' text-anchor=\'middle\' fill=\'white\' font-weight=\'bold\'>Z</text></svg>'"><div><h2 style="color:var(--a);text-align:center">Zed Supplier Directory</h2><h2 style="font-size:15px">System Login</h2><input type="text" id="bW" placeholder="Username" value=""><div class="bh"><input type="password" id="bX" placeholder="Password" value=""><span class="bi" onclick="bY()">üëÅÔ∏è</span></div><button class="by bz" style="width:100%;margin-top:10px" onclick="bZ()">Login</button><p style="font-size:12px;margin-top:15px;color:#666"><span style="cursor:pointer" onclick="b_()">Forgot Password?</span><span style="margin:0 10px">|</span><span style="cursor:pointer;color:var(--a)" onclick="ba()">Don't have an account? Request account creation here</span></p><span style="font-size:10px;display:inline-block;margin-top:0"><br>Powered by<br>Jatkiss Empire Group</span></div></div></div><div id="d" class="bH" style="display:none;z-index:25000"><div class="bI" style="width:700px;max-width:95%;border-radius:24px;padding:30px;max-height:90vh;overflow-y:auto"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"><h3 style="color:var(--a);margin:0">üìù Request Account Creation</h3><button onclick="bb()" style="background:none;border:none;font-size:24px;cursor:pointer">‚úï</button></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:20px"><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Full Name *</label><input type="text" id="bc" placeholder="e.g., John Doe" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Username * (Uppercase)</label><input type="text" id="bd" placeholder="e.g., JDOE" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px" oninput="this.value=this.value.toUpperCase()"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">NRC Number *</label><input type="text" id="be" placeholder="e.g., 123456/78/1" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Phone Number *</label><input type="text" id="bf" placeholder="e.g., +260977123456" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"></div><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Institution *</label><input type="text" id="bg" placeholder="e.g., ZAMCOM" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Position *</label><input type="text" id="bh" placeholder="e.g., Procurement Officer" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Email Address *</label><input type="email" id="bi" placeholder="e.g., john@zamcom.zm" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Password *</label><input type="password" id="bj" placeholder="Enter password" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"></div></div><div style="margin-top:20px;border-top:2px solid #e0e0e0;padding-top:20px"><h4 style="color:var(--a);margin-bottom:15px">üìÑ Required Documents (Max 3MB each)</h4><div style="display:grid;grid-template-columns:repeat(3,1fr);gap:15px"><div><div class="bk" onclick="document.getElementById('bl').click()" style="padding:15px"><span style="font-size:32px">ü™™</span><p style="margin:5px 0;font-weight:600">NRC</p><p style="font-size:10px;color:#666">Click to upload</p></div><input type="file" id="bl" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="bm('nrc',this)"><div id="bn" style="margin-top:5px;font-size:11px"></div></div><div><div class="bk" onclick="document.getElementById('bo').click()" style="padding:15px"><span style="font-size:32px">üéì</span><p style="margin:5px 0;font-weight:600">Degree/Diploma</p><p style="font-size:10px;color:#666">Click to upload</p></div><input type="file" id="bo" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="bm('degree',this)"><div id="bp" style="margin-top:5px;font-size:11px"></div></div><div><div class="bk" onclick="document.getElementById('bq').click()" style="padding:15px"><span style="font-size:32px">üìú</span><p style="margin:5px 0;font-weight:600">ZIPS Certificate</p><p style="font-size:10px;color:#666">Click to upload</p></div><input type="file" id="bq" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="bm('zips',this)"><div id="br" style="margin-top:5px;font-size:11px"></div></div></div></div><div style="display:flex;gap:15px;margin-top:30px"><button class="by bz" style="flex:1;padding:14px;font-size:16px" onclick="bs()">Submit Request</button><button class="by" style="flex:1;background:#95a5a6;padding:14px;font-size:16px" onclick="bb()">Cancel</button></div></div></div><div class="bj" id="bt"><img src="./images/mainlogo.png" width="120" alt="zamcom" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'120\' height=\'120\' viewBox=\'0 0 100 100\'><rect width=\'100\' height=\'100\' fill=\'%23173979\'/><text x=\'50\' y=\'55\' font-size=\'40\' text-anchor=\'middle\' fill=\'white\' font-weight=\'bold\'>Z</text></svg>'"><h1>Zed Supplier Directory</h1><h2>PROCUREMENT</h2><marquee style="background:rgba(0,0,0,0.3);padding:2px 0">Right Quality - Right Quantity - Right Time - Right Price - Right Place</marquee><h4 id="bu" style="margin-top:20px"><i>Welcome</i></h4></div><ul class="ba"><li><a onclick="bv('home')">HOME</a></li><li><a onclick="bv('links')">LINKS</a></li><li><a onclick="bv('contact')">CONTACT US</a></li><li><a onclick="bv('about')">ABOUT US</a></li><li><a onclick="bw()" id="bx" class="by" style="display:none">üìã AUDIT LOGS</a></li><li><a onclick="bz()" id="bA" class="by bB" style="background:#e67e22;display:none">‚úÖ APPROVALS <span id="bC" class="bC">0</span></a></li><li><a onclick="bD()" id="bE" class="by bB" style="background:#9b59b6;display:none">üìú MY REQUESTS</a></li><li><button id="bF" class="by bB" style="background:#e67e22;margin:10px;display:none" onclick="bG()">üë• User Management</button></li><li><button id="bH" class="by bB" style="background:#2196F3;margin:10px;display:none" onclick="bI()">üëÅÔ∏è Active Sessions</button></li><li><button id="bJ" class="by bk" style="background:#9b59b6;margin:10px;display:none" onclick="bK()">üìã REQUESTS MANAGEMENT</button></li></ul><div id="bL" style="position:relative"></div><div id="bM" style="background:#fff;padding:10px 20px;border-bottom:1px solid #ddd;display:flex;justify-content:space-between;align-items:center"><div style="display:flex;align-items:center;gap:10px"><span id="bN" style="height:12px;width:12px;border-radius:50%;display:inline-block"></span><span id="bO" style="font-weight:700;font-size:14px">Checking Status...</span></div><div id="bP" style="font-size:12px;color:#555;display:flex;align-items:center;gap:10px;flex-wrap:wrap"><span id="bQ">Not logged in</span><span id="bR" style="display:none;padding:2px 6px;border-radius:12px;color:#fff"></span></div><div id="bS" style="font-family:monospace;font-weight:700"></div></div><div id="bT" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:20001;justify-content:center;align-items:center"><div style="position:relative;width:90%;height:90%"><button onclick="bU()" style="position:absolute;top:20px;right:20px;background:rgba(0,0,0,0.5);color:#fff;border:none;width:40px;height:40px;border-radius:50%;cursor:pointer">‚úï</button><button onclick="bV()" style="position:absolute;left:20px;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:#fff;border:none;width:50px;height:50px;border-radius:50%;cursor:pointer">‚Äπ</button><img id="bW" src="" style="width:100%;height:100%;object-fit:contain"><button onclick="bX()" style="position:absolute;right:20px;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:#fff;border:none;width:50px;height:50px;border-radius:50%;cursor:pointer">‚Ä∫</button><div id="bY" style="position:absolute;bottom:20px;left:50%;transform:translateX(-50%);color:#fff;background:rgba(0,0,0,0.5);padding:5px 15px;border-radius:20px">1 / 1</div></div></div><div id="af"><div class="ag"><div class="ah"><div class="ai">üîê</div><h3>Change Password</h3></div><div class="aj"><label>Current Password</label><div class="ak"><input type="password" id="bZ" placeholder="Enter current password"><span class="al" onclick="b_('bZ')">üëÅÔ∏è</span></div></div><div class="aj"><label>New Password</label><div class="ak"><input type="password" id="ba$" placeholder="Enter new password" onkeyup="ba0()"><span class="al" onclick="b_('ba$')">üëÅÔ∏è</span></div><div class="am"><div class="an" id="ba1"></div></div></div><div class="aj"><label>Confirm New Password</label><div class="ak"><input type="password" id="ba2" placeholder="Confirm new password" onkeyup="ba3()"><span class="al" onclick="b_('ba2')">üëÅÔ∏è</span></div><div class="ao" id="ba4"></div></div><div class="ap"><button class="aq" onclick="ba5()"><span>‚úì</span> Update Password</button><button class="ar" onclick="ba6()">Cancel</button></div></div></div><div id="y"><div class="z"><div class="aa"><span id="ba7">üìÑ</span><span id="ba8">Document Name</span></div><button class="ab" onclick="ba9()">‚úï</button></div><div class="ac" id="ba_"></div><div class="ad"><button class="ae download" onclick="bb0()"><span>üì•</span> Download Document</button></div></div><div id="j" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:20000;justify-content:center;align-items:center"><div style="width:90%;height:90%;background:#fff;border-radius:10px;display:flex;flex-direction:column"><div style="padding:15px;background:var(--a);color:#fff;display:flex;justify-content:space-between;align-items:center"><span id="bb1">Supplier Documents</span><button onclick="bb2()" style="background:none;border:none;color:#fff;font-size:20px;cursor:pointer">‚úï</button></div><div id="bb3" style="flex:1;padding:20px;overflow:auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px"></div></div></div><div id="bw" class="bw"><div class="bx"><h3 id="bb4" style="color:var(--h);margin-bottom:10px">State Reason for Deletion</h3><p style="color:#666;font-size:13px;margin-bottom:5px">Please provide a reason for this deletion request:</p><textarea id="bb5" class="by" placeholder="Enter your reason here..."></textarea><div style="display:flex;gap:15px;justify-content:flex-end"><button class="by" style="background:var(--a)" onclick="bb6()">Submit Request</button><button class="by" style="background:#95a5a6" onclick="bb7()">Cancel</button></div><input type="hidden" id="bb8"><input type="hidden" id="bb9"><input type="hidden" id="bb_"></div></div><div id="bc" class="bH"><div class="bd"><h3 style="color:var(--b);margin-bottom:15px">‚úó Reason for Rejection</h3><p style="color:#666;margin-bottom:10px">Please provide a reason for rejecting this request:</p><textarea id="ba$0" class="be" placeholder="Enter rejection reason..."></textarea><div style="display:flex;gap:15px;justify-content:flex-end"><button class="by" style="background:var(--b)" onclick="ba$1()">Confirm Rejection</button><button class="by" style="background:#95a5a6" onclick="ba$2()">Cancel</button></div><input type="hidden" id="ba$3"></div></div><div id="homeView" class="bk" style="display:none"><div class="bq" id="ba$4"><button class="by bz" onclick="ba$5()" id="ba$6">+ New Category</button><button class="by bz" style="background:#3498db" onclick="ba$7()" id="ba$8">+ New Supplier</button><input type="text" id="ba$9" placeholder="üîç Search Supplier Name..." style="padding:10px 20px;border-radius:30px;border:1px solid #ddd;width:250px" onkeyup="ba$_()"><button id="ba%0" class="by bk" style="background:#607d8b" onclick="ba%1()">üíæ Export Backup</button><button id="ba%2" class="by bk" style="background:#9c27b0" onclick="document.getElementById('ba%3').click()">üì• Import & Merge</button><input type="file" id="ba%3" style="display:none" onchange="ba%4(event)"></div><div id="ba%5"><h2 style="text-align:center;color:#1e3b37;font-size:2rem;margin-bottom:10px">Supplier Categories</h2><p style="text-align:center;color:#5a7c7a;margin-bottom:20px">Browse our trusted partners by category</p><div class="bl" id="ba%6"></div><div id="ba%7" style="margin-top:60px;margin-bottom:20px"><div style="background:linear-gradient(135deg,#173979,#1e4b8a);border-radius:80px;padding:30px 40px;max-width:800px;margin:0 auto;box-shadow:0 25px 40px -15px rgba(23,57,121,0.5);text-align:center;position:relative;overflow:hidden"><div style="position:absolute;top:-20px;left:-20px;width:150px;height:150px;background:rgba(255,255,255,0.1);border-radius:50%"></div><div style="position:absolute;bottom:-40px;right:-20px;width:200px;height:200px;background:rgba(255,255,255,0.05);border-radius:50%"></div><div style="display:flex;align-items:center;justify-content:center;gap:30px;flex-wrap:wrap;position:relative;z-index:2"><div style="text-align:left"><div style="font-size:18px;color:rgba(255,255,255,0.8);letter-spacing:2px;margin-bottom:5px">TOTAL SUPPLIERS</div><div style="display:flex;align-items:baseline;gap:10px"><span id="ba%8" style="font-size:72px;font-weight:800;color:#fff;line-height:1">0</span><span style="font-size:24px;color:rgba(255,255,255,0.7)">registered</span></div></div><div style="width:2px;height:70px;background:rgba(255,255,255,0.2)"></div><div style="display:flex;gap:40px"><div style="text-align:center"><div style="background:rgba(255,255,255,0.15);width:60px;height:60px;border-radius:30px;display:flex;align-items:center;justify-content:center;margin:0 auto 10px"><span style="font-size:28px">üìä</span></div><div style="font-size:24px;font-weight:700;color:#fff" id="ba%9">0</div><div style="font-size:12px;color:rgba(255,255,255,0.7)">Categories</div></div><div style="text-align:center"><div style="background:rgba(255,255,255,0.15);width:60px;height:60px;border-radius:30px;display:flex;align-items:center;justify-content:center;margin:0 auto 10px"><span style="font-size:28px">‚≠ê</span></div><div style="font-size:24px;font-weight:700;color:#fff" id="ba$_0">0.0</div><div style="font-size:12px;color:rgba(255,255,255,0.7)">Avg. Rating</div></div><div style="text-align:center"><div style="background:rgba(255,255,255,0.15);width:60px;height:60px;border-radius:30px;display:flex;align-items:center;justify-content:center;margin:0 auto 10px"><span style="font-size:28px">‚úÖ</span></div><div style="font-size:24px;font-weight:700;color:#fff" id="ba$_1">0</div><div style="font-size:12px;color:rgba(255,255,255,0.7)">Compliant</div></div></div></div><div style="position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 30% 50%,rgba(255,255,255,0.1) 0%,transparent 60%);pointer-events:none"></div></div></div></div><div id="ba$_2" style="display:none"><h2 style="text-align:center;color:var(--a)">Search Results</h2><table class="bx"><thead><tr><th>Supplier Name</th><th>Category</th><th>Specialization</th><th>Phone</th><th>Rating</th><th>Renewal Status</th><th>Actions</th></tr></thead><tbody id="ba$_3"></tbody></table><button class="bA" onclick="document.getElementById('ba$_2').style.display='none';document.getElementById('ba%5').style.display='block'">‚Üê Back to Categories</button></div></div><div id="br" style="display:none"><h2 id="ba$_4" style="color:#333;text-align:center">Category Name</h2><div class="bE"><button class="by bz" onclick="ba$5()" id="ba$_5">+ New Category</button><button class="by bz" style="background:#3498db" onclick="ba$7()" id="ba$_6">+ New Supplier</button><button class="bB" onclick="ba$_7()" id="ba$_8" style="padding:12px 24px">‚úèÔ∏è Edit Category</button></div><div id="ba$_9" style="display:none;margin:15px 0;padding:12px;background:#ff4d4d;color:#fff;border-radius:8px;font-weight:700;text-align:center"></div><button class="bA" onclick="bv('home')">‚Üê Back to Home</button><div style="overflow-x:auto"><table class="bx ba%_"><thead><tr><th>Supplier Name</th><th>Specialization</th><th>Phone</th><th>T-PIN</th><th>Email</th><th>Address</th><th>Rating</th><th>Compliance</th><th>Renewal</th><th>Docs</th><th>Modified By</th><th>Actions</th></tr></thead><tbody id="ba%0_"></tbody></table></div></div><div id="bs" style="display:none"><div class="bW"><h2 style="color:var(--a);text-align:center">About Zed Supplier Directory</h2><p style="color:#555;line-height:1.6;padding:0 30px">The Zed Supplier Directory is a specialized digital platform designed to streamline and modernize procurement processes. Serving as a centralized repository for vetted vendors, the system bridges the gap between procurement departments and reliable service providers. <br> By maintaining a comprehensive database of suppliers across diverse industries‚Äîincluding ICT, Construction, Consultancy, and Office Supplies‚Äîthe directory ensures that organizations can quickly identify, evaluate, and engage with businesses that meet their specific requirements. Our platform focuses on transparency and compliance, requiring suppliers to maintain up-to-date documentation such as TPIN, NAPSA, and ZRA certifications.</p><div class="bX"><div style="padding:20px;border-left:5px solid var(--a);background:#f9f9f9;border-radius:8px"><h3 style="color:#2c3e50">Our Mission</h3><p style="color:#555">To deliver timely, transparent, and ethical procurement solutions with easy supplier engangement.</p></div><div style="padding:20px;border-left:5px solid var(--c);background:#f9f9f9;border-radius:8px"><h3 style="color:#2c3e50">Our Vision</h3><p style="color:#555">Our vision is to be the go-to place where the best businesses and organizations connect with ease and total confidence.</p></div></div></div></div><div id="bt" style="display:none;padding:40px 20px;max-width:1000px;margin:0 auto"><div class="bW"><h2 style="color:var(--a);text-align:center">Contact Information</h2><p style="color:#555;line-height:1.6;padding:0 30px">Email: zedsupplierszm@gmail.com<br>Phone: +260973031254<br>Powered by: Jatkiss Empire Group<br></p></div></div><div id="bu" style="display:none;padding:40px 20px;max-width:1200px;margin:0 auto"><h2 style="color:#333">Links Management</h2><div style="margin-bottom:20px" id="ba%1_"><button class="by bz" onclick="ba%2_()" id="ba%3_">+ Add New Link</button></div><table class="bx"><thead><tr><th>Institution</th><th>Website</th><th>Email</th><th style="width:80px" id="ba%4_">Action</th></tr></thead><tbody id="ba%5_"></tbody></table></div><div id="bv" style="display:none;padding:40px 20px;max-width:1200px;margin:0 auto"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"><h2 style="color:#333;margin:0">üìã System Audit Trail</h2><div><button id="ba%6_" class="by bk" style="background:#e67e22" onclick="ba%7_()">üóëÔ∏è Delete Last 50 Logs</button><button id="ba%8_" class="by bk" style="background:#c0392b;margin-left:10px" onclick="ba%9_()">üóëÔ∏è Delete All Logs</button></div></div><div class="bW" style="padding:20px"><div id="ba$_0_" style="min-height:400px"></div><div id="ba$_1_" class="bl"></div></div></div><div id="bw" style="display:none;padding:40px 20px;max-width:1200px;margin:0 auto"><h2 style="color:#333;margin-bottom:20px">üìú My Approval Requests</h2><div class="bW" style="padding:20px"><div class="bz"><div class="bA active" onclick="ba$_2_('pending')" id="ba$_3_">Pending Requests</div><div class="bA" onclick="ba$_2_('history')" id="ba$_4_">History (Approved/Rejected)</div></div><div id="ba$_5_" style="min-height:400px"></div></div></div><div id="bZ" class="bZ"><div style="background:var(--a);color:#fff;padding:12px;display:flex;justify-content:space-between;align-items:center"><span>üë• Active Sessions & Online Status</span><button onclick="bI()" style="background:none;border:none;color:#fff;cursor:pointer">‚úï</button></div><div id="ba$_6_" style="padding:15px;max-height:350px;overflow-y:auto;background:#fff"></div></div><div id="categoryModal" class="bH"><div class="bI" style="border-radius:20px;max-width:450px"><h3 id="ba$_7_" style="color:var(--a);margin-bottom:20px;text-align:center">‚ûï Add New Category</h3><input type="hidden" id="ba$_8_"><div style="margin-bottom:20px"><label style="display:block;margin-bottom:8px;font-weight:600;color:#555">Category Name</label><input type="text" id="ba$_9_" placeholder="e.g., Stationery & Office Supplies" style="width:100%;padding:12px 15px;border:2px solid #e0e0e0;border-radius:10px;font-size:15px;transition:border .3s" onfocus="this.style.borderColor='var(--a)'" onblur="this.style.borderColor='#e0e0e0'"></div><div style="display:flex;gap:15px"><button class="by bz" style="flex:1;padding:12px" onclick="ba%0_()" id="ba%1_">Create Category</button><button class="by" style="flex:1;background:#95a5a6;padding:12px" onclick="ba%2_()">Cancel</button></div></div></div><div id="supplierModal" class="bH" style="display:none"><div class="bI" style="width:700px;max-width:95%;border-radius:24px;padding:30px"><h3 id="ba%3_" style="color:var(--a);margin-bottom:25px;text-align:center;font-size:1.8rem">‚ûï Add New Supplier</h3><div style="display:grid;grid-template-columns:1fr 1fr;gap:20px"><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Supplier Name *</label><input type="text" id="ba%4_" placeholder="e.g., ABC Supplies Ltd" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Specialization</label><input type="text" id="ba%5_" placeholder="e.g., Office Equipment" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Phone Number *</label><input type="text" id="ba%6_" placeholder="e.g., +260977123456" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">T PIN</label><input type="text" id="ba%7_" placeholder="Taxpayer PIN" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Email</label><input type="email" id="ba%8_" placeholder="contact@supplier.com" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Physical Address</label><input type="text" id="ba%9_" placeholder="Full address" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"></div><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Category *</label><select id="ba$_00" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;margin-bottom:15px"><option value="">Select Category</option></select><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Rating (1-5 Stars)</label><div class="bS" id="ba$_01" style="margin-bottom:20px"><input type="radio" name="rating" id="star5" value="5"><label for="star5"></label><input type="radio" name="rating" id="star4" value="4"><label for="star4"></label><input type="radio" name="rating" id="star3" value="3"><label for="star3"></label><input type="radio" name="rating" id="star2" value="2"><label for="star2"></label><input type="radio" name="rating" id="star1" value="1" checked><label for="star1"></label></div><label style="display:block;margin-bottom:10px;font-weight:600;color:#555">Compliance Status</label><div style="background:#f8f9fa;padding:15px;border-radius:12px;margin-bottom:20px"><div style="display:flex;align-items:center;margin-bottom:10px"><input type="checkbox" id="ba$_02" style="width:18px;height:18px;margin-right:10px"><label for="ba$_02" style="flex:1">TPIN Registered</label><span id="ba$_03" style="font-size:12px;padding:3px 8px;border-radius:20px;background:#e74c3c;color:#fff">Not Compliant</span></div><div style="display:flex;align-items:center;margin-bottom:10px"><input type="checkbox" id="ba$_04" style="width:18px;height:18px;margin-right:10px"><label for="ba$_04" style="flex:1">NAPSA Registered</label><span id="ba$_05" style="font-size:12px;padding:3px 8px;border-radius:20px;background:#e74c3c;color:#fff">Not Compliant</span></div><div style="display:flex;align-items:center;margin-bottom:10px"><input type="checkbox" id="ba$_06" style="width:18px;height:18px;margin-right:10px"><label for="ba$_06" style="flex:1">ZRA Registered</label><span id="ba$_07" style="font-size:12px;padding:3px 8px;border-radius:20px;background:#e74c3c;color:#fff">Not Compliant</span></div><div style="display:flex;align-items:center;margin-bottom:10px"><input type="checkbox" id="ba$_08" style="width:18px;height:18px;margin-right:10px"><label for="ba$_08" style="flex:1">ZPPA Registered</label><span id="ba$_09" style="font-size:12px;padding:3px 8px;border-radius:20px;background:#e74c3c;color:#fff">Not Compliant</span></div><div style="display:flex;align-items:center;margin-bottom:10px;background:linear-gradient(135deg,#f0f9ff,#e6f2ff);padding:8px 12px;border-radius:8px"><input type="checkbox" id="ba$_0_" style="width:18px;height:18px;margin-right:10px;accent-color:#3498db"><label for="ba$_0_" style="flex:1;font-weight:600;color:#2c3e50">Active on E-Gp System</label><span id="ba$_1_" style="font-size:12px;padding:3px 8px;border-radius:20px;background:#e74c3c;color:#fff">Not Active</span></div><div style="margin-top:15px"><div style="display:flex;justify-content:space-between;margin-bottom:5px"><span style="font-size:12px">Overall Compliance</span><span id="ba$_2_">0%</span></div><div class="br"><div id="ba$_3_" class="bs bu" style="width:0%"></div></div></div></div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Renewal Status</label><div style="display:flex;gap:10px;align-items:center;background:#f8f9fa;padding:15px;border-radius:12px"><div style="flex:1"><select id="ba$_4_" style="width:100%;padding:8px;border:2px solid #e0e0e0;border-radius:8px"><option value="0">January</option><option value="1">February</option><option value="2">March</option><option value="3">April</option><option value="4">May</option><option value="5">June</option><option value="6">July</option><option value="7">August</option><option value="8">September</option><option value="9">October</option><option value="10">November</option><option value="11" selected>December</option></select></div><div style="flex:1"><select id="ba$_5_" style="width:100%;padding:8px;border:2px solid #e0e0e0;border-radius:8px"><option value="2025">2025</option><option value="2026">2026</option><option value="2027">2027</option><option value="2028">2028</option></select></div></div></div></div><div style="margin-top:25px;border-top:1px solid #e0e0e0;padding-top:20px"><h4 style="color:#333;margin-bottom:15px">üìÑ Required Documents (Max 3MB each)</h4><div style="display:grid;grid-template-columns:repeat(4,1fr);gap:15px"><div><div class="bk" onclick="document.getElementById('ba$_6_').click()" style="padding:15px"><span style="font-size:24px">üìë</span><p style="margin:5px 0;font-weight:600">TPIN</p><p style="font-size:10px;color:#666">Click to upload</p></div><input type="file" id="ba$_6_" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba$_7_('tpin',this)"><div id="ba$_8_" style="margin-top:5px;font-size:11px"></div></div><div><div class="bk" onclick="document.getElementById('ba$_9_').click()" style="padding:15px"><span style="font-size:24px">üìë</span><p style="margin:5px 0;font-weight:600">NAPSA</p><p style="font-size:10px;color:#666">Click to upload</p></div><input type="file" id="ba$_9_" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba$_7_('napsa',this)"><div id="ba%0_0" style="margin-top:5px;font-size:11px"></div></div><div><div class="bk" onclick="document.getElementById('ba%1_0').click()" style="padding:15px"><span style="font-size:24px">üìë</span><p style="margin:5px 0;font-weight:600">ZRA</p><p style="font-size:10px;color:#666">Click to upload</p></div><input type="file" id="ba%1_0" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba$_7_('zra',this)"><div id="ba%2_0" style="margin-top:5px;font-size:11px"></div></div><div><div class="bk" onclick="document.getElementById('ba%3_0').click()" style="padding:15px"><span style="font-size:24px">üìë</span><p style="margin:5px 0;font-weight:600">ZPPA</p><p style="font-size:10px;color:#666">Click to upload</p></div><input type="file" id="ba%3_0" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba$_7_('zppa',this)"><div id="ba%4_0" style="margin-top:5px;font-size:11px"></div></div></div></div><div style="display:flex;gap:15px;margin-top:30px"><button id="ba%5_0" class="by bz" style="flex:1;padding:14px;font-size:16px" onclick="ba%6_0()">Save Supplier</button><button class="by" style="flex:1;background:#95a5a6;padding:14px;font-size:16px" onclick="ba%7_0()">Cancel</button></div><input type="hidden" id="ba%8_0"><input type="hidden" id="ba%9_0" value="add"></div></div><div id="approvalRequestsModal" class="bH" style="display:none"><div class="bI" style="width:700px;max-width:95%;border-radius:24px;padding:30px"><h3 style="color:var(--h);margin-bottom:20px;text-align:center">‚úÖ Pending Approval Requests <span id="ba$_0_0" class="bC">0</span></h3><div id="ba$_1_0" style="max-height:400px;overflow-y:auto"></div><div style="display:flex;gap:15px;margin-top:25px"><button class="by" style="flex:1;background:#95a5a6" onclick="ba$_2_0()">Close</button></div></div></div><div id="approvalActionModal" class="bH" style="display:none"><div class="bI" style="width:500px;border-radius:24px;padding:30px"><h3 id="ba$_3_0" style="color:var(--h);margin-bottom:20px;text-align:center">Approve Request</h3><div id="ba$_4_0" style="margin-bottom:25px;background:#f8f9fa;padding:20px;border-radius:12px"></div><div style="display:flex;gap:15px"><button class="by" style="flex:1;background:var(--a)" onclick="ba$_5_0(true)">‚úì Approve</button><button class="by" style="flex:1;background:var(--b)" onclick="ba$_6_0()">‚úó Reject</button><button class="by" style="flex:1;background:#95a5a6" onclick="ba$_7_0()">Cancel</button></div></div></div><div id="ba$_8_0" class="bH" style="display:none;z-index:30000"><div class="bI" style="width:90%;max-width:1200px;height:90vh;padding:0;border-radius:16px;overflow:hidden;display:flex;flex-direction:column"><div style="background:var(--a);color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center"><h3 id="ba$_9_0" style="margin:0;font-size:1.2rem">Document Viewer</h3><button onclick="ba%0_1()" style="background:none;border:none;color:#fff;font-size:24px;cursor:pointer">‚úï</button></div><div id="ba%1_1" style="flex:1;padding:20px;overflow:auto;background:#f5f5f5;display:flex;flex-direction:column;align-items:center"></div><div style="padding:15px;background:#f8f9fa;border-top:1px solid #dee2e6;display:flex;justify-content:flex-end;gap:10px"><button id="ba%2_1" class="by bz" style="padding:8px 20px" onclick="ba%3_1()">üì• Download</button><button class="by" style="background:#6c757d;padding:8px 20px" onclick="ba%0_1()">Close</button></div></div></div><div id="ba%4_1" class="bH" style="display:none"><div class="bI" style="width:600px;border-radius:24px"><h3 style="color:var(--a);margin-bottom:15px">üë§ User Management</h3><div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:15px"><button class="by bz" onclick="ba%5_1()" id="ba%6_1">+ Add User</button><button id="ba%7_1" class="by bk" style="background:#c0392b" onclick="ba%8_1()">üóëÔ∏è Delete All Logs</button><button id="ba%9_1" class="by bk" style="background:#e67e22" onclick="ba$_0_1()">üóëÔ∏è Delete Last 50 Logs</button></div><div style="max-height:400px;overflow-y:auto"><table class="be" style="width:100%"><thead><tr><th>Username</th><th>Role</th><th>Phone</th><th>Email/NRC</th><th>Status</th><th>Actions</th></tr></thead><tbody id="ba$_1_1"></tbody></table></div><button onclick="ba$_2_1()" class="by" style="background:#777;width:100%;margin-top:15px">Close</button></div></div><div id="ba$_3_1" class="bH" style="display:none"><div class="bI" style="border-radius:24px;max-width:600px"><h3 id="ba$_4_1">‚úèÔ∏è Edit User</h3><input type="hidden" id="ba$_5_1"><input type="text" id="ba$_6_1" placeholder="Full Name *" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba$_7_1" placeholder="Username" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px" readonly><select id="ba$_8_1" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><option value="staff">Staff</option><option value="admin">Admin</option><option value="super admin">Super Admin</option></select><input type="text" id="ba$_9_1" placeholder="NRC Number *" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="email" id="ba%0_2" placeholder="Email Address" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba%1_2" placeholder="Phone Number" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba%2_2" placeholder="Institution / Dept" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba%3_2" placeholder="Position" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="password" id="ba%4_2" placeholder="New Password (leave blank to keep current)" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><div style="margin-top:20px;border-top:2px solid #e0e0e0;padding-top:20px"><h4 style="color:var(--a);margin-bottom:15px">üìÑ Documents</h4><div style="display:grid;gap:15px"><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Degree/Diploma Certificate</label><div class="bk" onclick="document.getElementById('ba%5_2').click()" style="padding:15px"><span style="font-size:24px">üéì</span><p style="margin:5px 0;font-weight:600">Upload New Degree/Diploma</p><p style="font-size:10px;color:#666">Click to upload (PDF, PNG, JPEG)</p></div><input type="file" id="ba%5_2" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba%6_2('editDegree',this)"><div id="ba%7_2" style="margin-top:5px;font-size:11px"></div></div><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">ZIPS Membership Certificate</label><div class="bk" onclick="document.getElementById('ba%8_2').click()" style="padding:15px"><span style="font-size:24px">üìú</span><p style="margin:5px 0;font-weight:600">Upload New ZIPS Certificate</p><p style="font-size:10px;color:#666">Click to upload (PDF, PNG, JPEG)</p></div><input type="file" id="ba%8_2" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba%6_2('editZips',this)"><div id="ba%9_2" style="margin-top:5px;font-size:11px"></div></div><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">NRC (National Registration Card)</label><div class="bk" onclick="document.getElementById('ba$_0_2').click()" style="padding:15px"><span style="font-size:24px">ü™™</span><p style="margin:5px 0;font-weight:600">Upload New NRC</p><p style="font-size:10px;color:#666">Click to upload (PDF, PNG, JPEG)</p></div><input type="file" id="ba$_0_2" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba%6_2('editNrc',this)"><div id="ba$_1_2" style="margin-top:5px;font-size:11px"></div></div></div><div id="ba$_2_2" style="margin-top:15px;padding:15px;background:#f8f9fa;border-radius:8px"><h5 style="margin:0 0 10px 0;color:#555">Current Documents:</h5><div id="ba$_3_2"></div></div></div><div style="display:flex;align-items:center;margin:10px 0"><label style="display:flex;align-items:center;gap:8px;cursor:pointer"><input type="checkbox" id="ba$_4_2" style="width:16px;height:16px"><span style="font-size:14px">Account Enabled</span></label></div><div style="display:flex;gap:10px;margin-top:15px"><button class="by bz" style="flex:1" onclick="ba$_5_2()">üíæ Save Changes</button><button class="by" style="background:#777;flex:1" onclick="ba$_6_2()">Cancel</button></div></div></div><div id="ba$_7_2" class="bH" style="display:none"><div class="bI" style="border-radius:24px;max-width:600px"><h3 id="ba$_8_2">‚ûï Add New User</h3><input type="text" id="ba$_9_2" placeholder="Full Name *" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba%0_3" placeholder="Username *" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><select id="ba%1_3" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><option value="staff">Staff</option><option value="admin">Admin</option><option value="super admin">Super Admin</option></select><input type="text" id="ba%2_3" placeholder="NRC Number *" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="email" id="ba%3_3" placeholder="Email Address" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba%4_3" placeholder="Phone Number" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba%5_3" placeholder="Institution / Dept" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba%6_3" placeholder="Position" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="password" id="ba%7_3" placeholder="Password *" style="width:100%;padding:12px;margin:6px 0;border:2px solid #e0e0e0;border-radius:10px"><div style="margin-top:20px;border-top:2px solid #e0e0e0;padding-top:20px"><h4 style="color:var(--a);margin-bottom:15px">üìÑ Required Documents (Max 3MB each)</h4><div style="display:grid;gap:15px"><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">Degree/Diploma Certificate *</label><div class="bk" onclick="document.getElementById('ba%8_3').click()" style="padding:15px"><span style="font-size:24px">üéì</span><p style="margin:5px 0;font-weight:600">Upload Degree/Diploma</p><p style="font-size:10px;color:#666">Click to upload (PDF, PNG, JPEG)</p></div><input type="file" id="ba%8_3" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba%9_3('degree',this)"><div id="ba$_0_3" style="margin-top:5px;font-size:11px"></div></div><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">ZIPS Membership Certificate *</label><div class="bk" onclick="document.getElementById('ba$_1_3').click()" style="padding:15px"><span style="font-size:24px">üìú</span><p style="margin:5px 0;font-weight:600">Upload ZIPS Certificate</p><p style="font-size:10px;color:#666">Click to upload (PDF, PNG, JPEG)</p></div><input type="file" id="ba$_1_3" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba%9_3('zips',this)"><div id="ba$_2_3" style="margin-top:5px;font-size:11px"></div></div><div><label style="display:block;margin-bottom:5px;font-weight:600;color:#555">NRC (National Registration Card) *</label><div class="bk" onclick="document.getElementById('ba$_3_3').click()" style="padding:15px"><span style="font-size:24px">ü™™</span><p style="margin:5px 0;font-weight:600">Upload NRC</p><p style="font-size:10px;color:#666">Click to upload (PDF, PNG, JPEG)</p></div><input type="file" id="ba$_3_3" style="display:none" accept=".pdf,.jpg,.jpeg,.png" onchange="ba%9_3('nrc',this)"><div id="ba$_4_3" style="margin-top:5px;font-size:11px"></div></div></div></div><div style="display:flex;gap:10px;margin-top:20px"><button class="by bz" style="flex:1" onclick="ba$_5_3()">Save User</button><button class="by" style="background:#777;flex:1" onclick="ba$_6_3()">Cancel</button></div></div></div><div id="linkModal" class="bH"><div class="bI" style="border-radius:24px"><h3 style="color:var(--a);text-align:center">‚ûï Add New Link</h3><input type="text" id="ba$_7_3" placeholder="Institution Name" style="width:100%;padding:12px;margin:8px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="text" id="ba$_8_3" placeholder="Website" style="width:100%;padding:12px;margin:8px 0;border:2px solid #e0e0e0;border-radius:10px"><input type="email" id="ba$_9_3" placeholder="Email" style="width:100%;padding:12px;margin:8px 0;border:2px solid #e0e0e0;border-radius:10px"><button class="by bz" style="width:100%;margin-top:15px;padding:12px" onclick="ba%0_4()">Save Link</button><button class="by" style="background:#95a5a6;width:100%;margin-top:8px;padding:12px" onclick="ba%1_4()">Cancel</button></div></div><div id="notification" class="b_"></div><script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script><script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script><script>function bQ(){localStorage.setItem('Z_LOCK',JSON.stringify({id:Math.random().toString(36).substring(2)+Date.now(),timestamp:Date.now()})),document.getElementById('bP').style.display='none',ba%2_4('Tab takeover successful','success')}function bY(){document.getElementById('bX').type=document.getElementById('bX').type==='password'?'text':'password'}function bU(){document.getElementById('aH').style.display='none',document.getElementById('bf').style.display='flex',localStorage.removeItem('logged_user'),localStorage.removeItem('last_login')}function ba$_6_2(){document.getElementById('ba$_3_1').style.display='none',document.getElementById('ba$_5_1').value='',document.getElementById('ba$_6_1').value='',document.getElementById('ba$_7_1').value='',document.getElementById('ba$_8_1').value='staff',document.getElementById('ba$_9_1').value='',document.getElementById('ba%0_2').value='',document.getElementById('ba%1_2').value='',document.getElementById('ba%2_2').value='',document.getElementById('ba%3_2').value='',document.getElementById('ba%4_2').value='',document.getElementById('ba$_4_2').checked=!0,['ba%7_2','ba%9_2','ba$_1_2'].forEach(function(a){var b=document.getElementById(a);b&&(b.innerHTML='')}),window.Z_ED={}}function ba%0_1(){document.getElementById('ba$_8_0').style.display='none',document.getElementById('ba%1_1').innerHTML='',window.Z_DOC=null}function ba6(){document.getElementById('af').style.display='none'}function b_(a){var b=document.getElementById(a);b.type=b.type==='password'?'text':'password'}function ba0(){var a=document.getElementById('ba$').value,b=document.getElementById('ba1');if(!a)b.className='an';else{var c=0;a.length>=8&&c++,a.length>=12&&c++;/[a-z]/.test(a)&&c++;/[A-Z]/.test(a)&&c++;/[0-9]/.test(a)&&c++;/[^a-zA-Z0-9]/.test(a)&&c++,c<=2?b.className='an weak':c<=4?b.className='an medium':b.className='an strong'}}function ba3(){var a=document.getElementById('ba$').value,b=document.getElementById('ba2').value,c=document.getElementById('ba4');b?a===b?(c.innerHTML='‚úì Passwords match',c.className='ao match'):(c.innerHTML='‚úó Passwords do not match',c.className='ao no-match'):c.innerHTML=''}function ba5(){var a=ba%8_4(),b=window.Z_USR.find(function(b){return b.username===a});if(!b)return void alert('You must be logged in to change password');var c=document.getElementById('bZ').value,d=document.getElementById('ba$').value,e=document.getElementById('ba2').value;if(!c||!d||!e)return void alert('Please fill in all password fields');if(c!==b.password)return void alert('Current password is incorrect');if(d!==e)return void alert('New passwords do not match');if(d.length<6)return void alert('New password must be at least 6 characters long');Z_DB.collection('users').doc(b.id).update({password:d,lastPasswordChange:new Date().toISOString()}).then(function(){Z_LOG('PASSWORD_CHANGE',{username:b.username,changedBy:b.username}),b.password=d,ba%2_4('Password changed successfully!','success'),ba6()}).catch(function(a){console.error('Error changing password:',a),alert('Failed to change password: '+a.message)})}function bZ(){var a=document.getElementById('bW').value.toUpperCase().trim(),b=document.getElementById('bX').value.trim();if(!a||!b)return void alert('Username and password required.');Z_GET_USERS(!0).then(function(){var c=window.Z_USR.find(function(b){return b.username===a});if(c&&c.password===b&&c.enabled){if(Z_LOCK()&&c.role==='staff')return void Z_SHOW_LOCK();localStorage.setItem('logged_user',a),localStorage.setItem('last_login',new Date().toDateString()),Z_LOCK()&&Z_CAN_ACCESS()&&(document.getElementById('bV').style.display='block',setTimeout(function(){document.getElementById('bV').style.display='none'},5e3)),c.id&&Z_DB.collection('users').doc(c.id).update({lastActive:new Date().toISOString()}),Z_GET_USERS(!0),Z_LOAD_ALL(!0),Z_INIT_COLL(),Z_LOAD_APPR(),Z_LOG('USER_LOGIN',{username:a,role:c.role,locked:Z_LOCK()}),document.getElementById('bf').style.display='none',document.getElementById('a').style.opacity='0',setTimeout(function(){document.getElementById('a').style.display='none'},500),Z_GREET(),Z_USER_DISP(),Z_UI(),bv('home'),Z_HEART(),ba%2_4('Welcome, '+a+' ('+c.role+')','success'),setTimeout(Z_PULSE,1e3)}else c&&!c.enabled?alert('Your account has been disabled. Please contact super admin.'):alert('Invalid username or password!')})}function Z_LOG(a,b){var c=Z_CUR(),d=window.Z_USR.find(function(a){return a.username===c}),e=d?d.fullName||c:c,f={timestamp:new Date().toISOString(),user:c,userFullName:e,action:a,readableMessage:e+' performed '+a,details:b||{}};return Z_DB.collection('audit_logs').add(f).catch(function(a){console.error('Error creating audit log:',a)})}function Z_CUR(){return localStorage.getItem('logged_user')||null}function Z_USER(a){return window.Z_USR.find(function(b){return b.username===a})}function Z_LOCK(){var a=new Date,b=a.getHours()*60+a.getMinutes();return b>=1010||b<450}function Z_CAN_ACCESS(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin')}function Z_SHOW_LOCK(){document.getElementById('aH').style.display='flex',Z_LOCK_INT()}function Z_LOCK_INT(){Z_UPD_LOCK(),window.Z_LOCK_TMR=setInterval(Z_UPD_LOCK,1e3)}function Z_UPD_LOCK(){var a=new Date,b=new Date(a);b.setHours(7,30,0,0),a.getHours()>=16&&b.setDate(b.getDate()+1);var c=b-a;if(c<=0)return void Z_HIDE_LOCK();var d=Math.floor(c/36e5),e=Math.floor(c%36e5/6e4),f=Math.floor(c%6e4/1e3),g=document.getElementById('bR');g&&(g.textContent=d.toString().padStart(2,'0')+':'+e.toString().padStart(2,'0')+':'+f.toString().padStart(2,'0'));var h=((24*36e5-((b.getHours()*60+b.getMinutes()-(a.getHours()*60+a.getMinutes()))*6e4))/36e5/24*100).toFixed(2),i=document.getElementById('bT');i&&(i.style.width=h+'%');var j=document.getElementById('bS');j&&j.textContent='Next unlock: '+b.getHours().toString().padStart(2,'0')+':'+b.getMinutes().toString().padStart(2,'0')+':00'}function Z_HIDE_LOCK(){document.getElementById('aH').style.display='none',window.Z_LOCK_TMR&&(clearInterval(window.Z_LOCK_TMR),window.Z_LOCK_TMR=null)}function Z_UI(){var a=Z_USER(Z_CUR());if(!a)return;var b=a.role==='super admin',c=a.role==='admin',d=a.role==='staff';document.querySelectorAll('.bk').forEach(function(a){a.style.display=b?'inline-block':'none'});var e=document.getElementById('bx');e&&(e.style.display=b||c?'inline-block':'none'),document.getElementById('bF').style.display='inline-block',document.getElementById('bH').style.display=Z_CAN_SESS()?'inline-block':'none';var f=document.getElementById('bA');if(f){if(Z_CAN_APPR()){var g=window.Z_APPR;c&&(g=g.filter(function(a){return a.requestedByRole==='staff'||a.requestedByRole==='admin'})),g.length>0?f.style.display='inline-block':f.style.display='none'}else f.style.display='none'}var h=document.getElementById('bE');h&&(Z_CUR()&&!b?h.style.display='inline-block':h.style.display='none');var i=document.getElementById('bJ');i&&(i.style.display=b?'inline-block':'none'),Z_RENDER_CAT(),Z_RENDER_LINKS(),Z_UPD_COUNTS(),setTimeout(Z_PULSE,500)}function Z_CAN_SESS(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function Z_CAN_APPR(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin')}function Z_HEART(){window.Z_HB&&clearInterval(window.Z_HB),window.Z_HB=setInterval(function(){var a=Z_CUR();if(a){var b=Z_USER(a);b&&b.id&&Z_DB.collection('users').doc(b.id).update({lastActive:new Date().toISOString()}).catch(function(a){console.error('Heartbeat error:',a)})}},3e4)}function Z_GREET(){var a=new Date,b=a.getHours()<12?'Good Morning':a.getHours()<18?'Good Afternoon':'Good Evening',c=document.getElementById('bu');c&&(c.innerHTML='<i>'+b+', '+Z_CUR()+'</i>')}function Z_USER_DISP(){var a=Z_CUR(),b=document.getElementById('bQ'),c=document.getElementById('bR');if(a&&b){var d=Z_USER(a);d?b.innerHTML='<div class="as"><button class="at"><span>üë§</span> '+a+' <span style="font-size:12px;margin-left:5px">‚ñº</span></button><div class="au"><div class="av" onclick="ba%2_4()"><span>üîê</span> Change Password</div><div class="ax"></div><div class="av" onclick="Z_LOGOUT()"><span>üö™</span> Logout</div></div></div>':b.innerHTML='Not logged in'}else b&&(b.innerHTML='Not logged in'),c&&(c.style.display='none')}function Z_LOGOUT(){Z_LOG('USER_LOGOUT',{username:Z_CUR()}),localStorage.removeItem('logged_user'),localStorage.removeItem('last_login'),window.Z_HB&&(clearInterval(window.Z_HB),window.Z_HB=null),['homeView','br','bs','bt','bu','bv','bw'].forEach(function(a){var b=document.getElementById(a);b&&(b.style.display='none')}),Z_HIDE_LOCK(),document.getElementById('bf').style.display='flex',document.getElementById('bW').value='',document.getElementById('bX').value='',document.getElementById('bV').style.display='none'}function Z_RENDER_CAT(){var a=document.getElementById('ba%6');if(a){if(!window.Z_CAT||window.Z_CAT.length===0)a.innerHTML='<p style="grid-column:1 / -1;text-align:center;color:#6b9080;padding:60px;font-size:1.2rem">No categories yet ‚Äî click "New Category" to add your first category.</p>';else{var b=Z_USER(Z_CUR());a.innerHTML=window.Z_CAT.map(function(a,c){var d=window.Z_SUP.filter(function(b){return b.category===a.name}).length,e='hsl('+(c*45)%360+',70%,55%)',f=Z_CAN_DEL_CAT(),g=b&&b.role==='super admin';return'<div class="bm" onclick="Z_OPEN_CAT(\''+a.id+'\')"><div class="bn"><img src="./images/mainlogo3.png" alt="'+a.name+'" loading="lazy" onerror="this.onerror=null; this.parentElement.innerHTML=\'<div class=\\\'bo\\\' style=\\\'background:radial-gradient(circle at 30% 30%, '+e+', #2c6b2c);\\\'>'+a.name.charAt(0)+'</div>\';">></div><div style="display:flex;flex-direction:column;align-items:center;padding:18px 12px"><span style="font-weight:600;font-size:1rem;color:#1e3b37;margin-bottom:8px">'+a.name+'</span><span style="background:#173979;color:#fff;padding:6px 16px;border-radius:40px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;box-shadow:0 4px 8px rgba(76,175,80,0.2)">'+d+' '+(d===1?'Supplier':'Suppliers')+'</span></div>'+(f&&g?'<button class="bp" onclick="event.stopPropagation(); Z_DEL_CAT(\''+a.id+'\')">Delete</button>':'')+(f&&!g?'<button class="bC" onclick="event.stopPropagation(); Z_DEL_CAT(\''+a.id+'\')">Request Delete</button>':'')+'</div>'}).join('')}Z_UPD_COUNTER()}}function Z_CAN_DEL_CAT(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function Z_UPD_COUNTER(){var a=document.getElementById('ba%8'),b=document.getElementById('ba%9'),c=document.getElementById('ba$_0'),d=document.getElementById('ba$_1'),e=window.Z_SUP.length;if(a){a.textContent=e,b.textContent=window.Z_CAT.length;if(e>0){var f=window.Z_SUP.reduce(function(a,b){return a+(b.rating||0)},0),g=(f/e).toFixed(1);c.textContent=g}else c.textContent='0.0';var h=window.Z_SUP.filter(function(a){if(!a.compliance)return!1;var b=[a.compliance.tpin==='yes',a.compliance.napsa==='yes',a.compliance.zra==='yes',a.compliance.zppa==='yes',a.compliance.egp==='yes'];return b.filter(Boolean).length>=4}).length;d.textContent=h}}function Z_OPEN_CAT(a){var b=window.Z_CAT.find(function(b){return b.id===a});if(b){window.Z_CUR_CAT=b.name,window.Z_CUR_CAT_ID=b.id,document.getElementById('ba$_4').textContent=b.name;var c=window.Z_SUP.filter(function(a){return a.category===b.name});Z_RENDER_SUP(c),bv('category')}}function Z_RENDER_SUP(a){var b=document.getElementById('ba%0_');if(b){var c=Z_USER(Z_CUR());if(!a||a.length===0)b.innerHTML='<tr><td colspan="11" style="text-align:center;padding:20px">No suppliers found in this category.</td></tr>';else b.innerHTML=a.map(function(a,d){var e=Z_DAYS(a),f=e<0?'bM':e<30?'bL':'',g=Z_CAN_EDIT_SUP(),h=Z_CAN_DEL_SUP(),i=c&&c.role==='super admin',j='hist-'+a.id,k=Z_DOC_THUMB(a.documents?{docs:a.documents}:null,'supplier',a.id,a.name);return'<tr><td>'+(a.name||'')+'</td><td>'+(a.specialization||'')+'</td><td><a href="https://wa.me/'+(a.phone?a.phone.replace(/\D/g,''):'')+'" target="_blank" class="bF" title="Open WhatsApp">'+(a.phone||'')+'</a></td><td><a href="https://portal.zra.org.zm/searchTaxpayer" target="_blank" class="bH" title="Search on ZRA Portal">'+(a.tpin||'')+'</a></td><td><a href="mailto:'+(a.email||'')+'" class="bG" title="Send Email">'+(a.email||'')+'</a></td><td>'+(a.address||'')+'</td><td><div class="bS">'+Z_STARS(a.rating||0)+'<span class="bU">'+(a.rating||0)+'/5</span></div></td><td><div class="bO">'+Z_COMP(a)+'</div></td><td><div class="bJ"><div class="bK '+f+'" style="height:'+Z_PERC(a)+'%"></div><div class="bN">'+e+'d</div></div></td><td><div style="display:flex;justify-content:center">'+k+'</div></td><td><div class="bB">'+(g?'<button class="bB" onclick="Z_EDIT_SUP(\''+a.id+'\')">Edit</button>':'')+(h&&i?'<button class="bp" onclick="Z_DEL_SUP(\''+a.id+'\')">Delete</button>':'')+(h&&!i?'<button class="bC" onclick="Z_DEL_SUP(\''+a.id+'\')">Request Delete</button>':'')+'<button class="aw" onclick="Z_TOG_HIST(\''+j+'\')" style="background:#3498db;padding:5px 10px;font-size:12px;border-radius:4px;color:#fff;border:none;cursor:pointer">üìã History</button></div></td></tr><tr id="'+j+'" class="f" style="display:none"><td colspan="11" style="padding:0;background:transparent"><div style="margin:10px 20px 30px 20px;padding:20px;background:#f8fafc;border-radius:16px;border-left:6px solid #173979"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px"><h4 style="margin:0;color:#173979;font-size:16px;font-weight:600">üìã Activity History for '+a.name+'</h4><div><span style="background:#173979;color:#fff;padding:4px 12px;border-radius:30px;font-size:12px;margin-right:10px">Last: '+(a.lastModifiedAt||a.createdAt?new Date(a.lastModifiedAt||a.createdAt).toLocaleDateString():'')+'</span><button onclick="Z_TOG_HIST(\''+j+'\')" style="background:none;border:none;font-size:18px;cursor:pointer;color:#666">‚úï</button></div></div>'+Z_SUP_HIST(a)+'</div></td></tr>'}).join('')}}function Z_DAYS(a){if(!a.renewalDate)return 0;var b=new Date,c=new Date(a.renewalDate);return Math.ceil((c-b)/864e5)}function Z_PERC(a){if(!a.renewalDate)return 0;var b=Z_DAYS(a);return b<0?0:Math.min(100,b/365*100)}function Z_STARS(a){for(var b='',c=1;c<=5;c++)b+='<span class="star-view '+(c<=a?'filled':'star-empty-view')+'">‚òÖ</span>';return b}function Z_COMP(a){if(!a.compliance)return'<span class="bO bQ">NO DATA</span>';var b=[];return b.push(a.compliance.tpin==='yes'?'<span class="bO bP">TPIN</span>':'<span class="bO bQ">TPIN</span>'),b.push(a.compliance.napsa==='yes'?'<span class="bO bP">NAPSA</span>':'<span class="bO bQ">NAPSA</span>'),b.push(a.compliance.zra==='yes'?'<span class="bO bP">ZRA</span>':'<span class="bO bQ">ZRA</span>'),b.push(a.compliance.zppa==='yes'?'<span class="bO bP">ZPPA</span>':'<span class="bO bQ">ZPPA</span>'),b.join('')}function Z_DOC_THUMB(a,b,c,d){if(!a||Object.keys(a).length===0)return'<span style="color:#ccc;font-size:11px">No docs</span>';var e=Object.keys(a).length;return'<div class="g" onclick="Z_VIEW_DOCS(\''+b+'\',\''+c+'\',\''+d.replace(/'/g,"\\'")+'\')" title="Click to view '+e+' document(s)"><span class="i">üìÑ</span><span class="h">'+e+'</span></div>'}function Z_VIEW_DOCS(a,b,c){var d=[],e='';if(a==='user'){var f=window.Z_USR.find(function(a){return a.id===b});f&&f.documents&&(d=Object.entries(f.documents).map(function(a){var b=a[0],c=a[1];return Object.assign({},c,{type:b,displayType:b==='degree'?'üéì Degree/Diploma':b==='zips'?'üìú ZIPS Certificate':b==='nrc'?'ü™™ NRC':b.toUpperCase()})})),e='üìÅ '+(f.fullName||f.username)+'\'s Documents'}else if(a==='supplier'){var g=window.Z_SUP.find(function(a){return a.id===b});g&&g.documents&&(d=g.documents.map(function(a){return Object.assign({},a,{displayType:a.type==='tpin'?'üìë TPIN':a.type==='napsa'?'üìë NAPSA':a.type==='zra'?'üìë ZRA':a.type==='zppa'?'üìë ZPPA':'üìÑ Document'})})),e='üìÅ '+g.name+'\'s Documents'}if(d.length===0)return void alert('No documents available');window.Z_VIEW_DOCS=d,window.Z_VIEW_ENT={type:a,id:b,name:c};var h=document.getElementById('bb3');h.innerHTML='',d.forEach(function(a,b){var c=a.type&&(a.type.startsWith('image/')||a.name&&a.name.match(/\.(jpg|jpeg|png|gif|webp)$/i)),d=document.createElement('div');d.className='p',d.style.animationDelay=b*.05+'s',d.innerHTML='<div class="q">'+(c?'<img src="'+a.data+'" alt="'+a.name+'">':'<span class="r">üìÑ</span>')+'</div><div class="s"><div class="t">'+(a.name||'Document')+'</div><div class="u"><span class="v">'+(a.displayType||a.type||'Document')+'</span><span>'+(a.size?(a.size/1024).toFixed(1)+' KB':'')+'</span></div><div class="w"><button class="x view" onclick="Z_OPEN_FULL('+b+')"><span>üëÅÔ∏è</span> View</button><button class="x download" onclick="Z_DOWN_DOC('+b+')"><span>üì•</span> Download</button></div></div>',h.appendChild(d)}),document.getElementById('bb1').innerHTML=e,document.getElementById('j').style.display='flex'}function Z_OPEN_FULL(a){if(window.Z_VIEW_DOCS&&window.Z_VIEW_DOCS[a]){var b=window.Z_VIEW_DOCS[a];window.Z_FULL=b;var c=b.type&&(b.type.startsWith('image/')||b.name&&b.name.match(/\.(jpg|jpeg|png|gif|webp)$/i));document.getElementById('ba8').textContent=b.name||'Document',document.getElementById('ba7').textContent=c?'üñºÔ∏è':'üìÑ';var d=document.getElementById('ba_');d.innerHTML=c?'<img src="'+b.data+'" alt="'+b.name+'">':'<iframe src="'+b.data+'" title="'+b.name+'"></iframe>',document.getElementById('j').style.display='none',document.getElementById('y').style.display='flex'}}function ba9(){document.getElementById('y').style.display='none',document.getElementById('ba_').innerHTML='',window.Z_FULL=null}function Z_DOWN_DOC(a){if(window.Z_VIEW_DOCS&&window.Z_VIEW_DOCS[a]){var b=window.Z_VIEW_DOCS[a],c=document.createElement('a');c.href=b.data,c.download=b.name||'document',document.body.appendChild(c),c.click(),document.body.removeChild(c)}}function bb0(){if(window.Z_FULL){var a=document.createElement('a');a.href=window.Z_FULL.data,a.download=window.Z_FULL.name||'document',document.body.appendChild(a),a.click(),document.body.removeChild(a)}}function Z_EDIT_SUP(a){Z_CAN_EDIT_SUP()?function(a){var b=window.Z_SUP.find(function(b){return b.id===a});b&&(document.getElementById('ba%3_').innerHTML='‚úèÔ∏è Edit Supplier',document.getElementById('ba%4_').value=b.name||'',document.getElementById('ba%5_').value=b.specialization||'',document.getElementById('ba%6_').value=b.phone||'',document.getElementById('ba%7_').value=b.tpin||'',document.getElementById('ba%8_').value=b.email||'',document.getElementById('ba%9_').value=b.address||'',document.getElementById('ba%8_0').value=a,document.getElementById('ba%9_0').value='edit',Z_POP_CAT(),setTimeout(function(){document.getElementById('ba$_00').value=b.category||''},100),Z_RATING(b.rating||3),document.getElementById('ba$_02').checked=b.compliance?.tpin==='yes',document.getElementById('ba$_04').checked=b.compliance?.napsa==='yes',document.getElementById('ba$_06').checked=b.compliance?.zra==='yes',document.getElementById('ba$_08').checked=b.compliance?.zppa==='yes',b.renewalDate&&function(a){var b=new Date(a);document.getElementById('ba$_4_').value=b.getMonth().toString(),document.getElementById('ba$_5_').value=b.getFullYear().toString()}(b.renewalDate),Z_UPD_COMP(),window.Z_UPLOAD={tpin:null,napsa:null,zra:null,zppa:null},['tpin','napsa','zra','zppa'].forEach(function(a){var b=document.getElementById('ba$_8_');b&&(b.innerHTML='')}),document.getElementById('supplierModal').style.display='flex')}(a):alert('You do not have permission to edit suppliers')}function Z_CAN_EDIT_SUP(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function Z_POP_CAT(){var a=document.getElementById('ba$_00');a&&(a.innerHTML='<option value="">Select Category</option>',window.Z_CAT.forEach(function(b){a.innerHTML+='<option value="'+b.name+'">'+b.name+'</option>'}))}function Z_RATING(a){document.querySelectorAll('input[name="rating"]').forEach(function(b){b.checked=parseInt(b.value)===a})}function Z_UPD_COMP(){var a=document.getElementById('ba$_02'),b=document.getElementById('ba$_04'),c=document.getElementById('ba$_06'),d=document.getElementById('ba$_08'),e=document.getElementById('ba$_0_'),f={tpin:document.getElementById('ba$_03'),napsa:document.getElementById('ba$_05'),zra:document.getElementById('ba$_07'),zppa:document.getElementById('ba$_09'),egp:document.getElementById('ba$_1_')};f.tpin&&(f.tpin.textContent=a.checked?'Compliant':'Not Compliant',f.tpin.style.background=a.checked?'#2ecc71':'#e74c3c'),f.napsa&&(f.napsa.textContent=b.checked?'Compliant':'Not Compliant',f.napsa.style.background=b.checked?'#2ecc71':'#e74c3c'),f.zra&&(f.zra.textContent=c.checked?'Compliant':'Not Compliant',f.zra.style.background=c.checked?'#2ecc71':'#e74c3c'),f.zppa&&(f.zppa.textContent=d.checked?'Compliant':'Not Compliant',f.zppa.style.background=d.checked?'#2ecc71':'#e74c3c'),f.egp&&(f.egp.textContent=e.checked?'Active':'Not Active',f.egp.style.background=e.checked?'#2ecc71':'#e74c3c');var g=[a.checked,b.checked,c.checked,d.checked,e.checked].filter(Boolean).length,h=g/5*100,i=document.getElementById('ba$_2_'),j=document.getElementById('ba$_3_');i&&(i.textContent=Math.round(h)+'%'),j&&(j.style.width=h+'%',j.className='bs '+(h>=70?'bt':h>=40?'bL':'bu'))}function Z_DEL_SUP(a){if(!Z_CAN_DEL_SUP())return void alert('You do not have permission to delete suppliers');var b=window.Z_SUP.find(function(b){return b.id===a});if(b){var c=Z_USER(Z_CUR());if(c.role==='super admin'){if(confirm('Delete supplier "'+b.name+'"?'))Z_DB.collection('suppliers').doc(a).delete().then(function(){return Z_LOG('DELETE_SUPPLIER',{supplierId:a,name:b.name,deletedBy:Z_CUR()})}).then(function(){return Z_LOAD_ALL(!0)}).then(function(){ba%2_4('Supplier deleted','success'),document.getElementById('br').style.display==='block'&&Z_RENDER_SUP(window.Z_SUP.filter(function(a){return a.category===window.Z_CUR_CAT}))}).catch(function(a){console.error('Error:',a),alert('Failed to delete')})}else Z_OPEN_REASON('supplier',a,b.name,function(c,d,e,f){Z_CREATE_APPR('supplier',{name:e},'delete',d,f),ba%2_4('Delete request submitted for approval','info')})}}function Z_CAN_DEL_SUP(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function Z_CREATE_APPR(a,b,c,d,e,f){var g=Z_USER(Z_CUR());if(!g)return void alert('You must be logged in to create a request');console.log('Creating '+c+' request for '+a+':',b);var h={type:a,action:c,itemId:d,requestedBy:Z_CUR(),requestedByFullName:g.fullName||g.username,requestedByRole:g.role,requestedData:b,oldData:f||null,status:'pending',createdAt:firebase.firestore.FieldValue.serverTimestamp(),createdDate:new Date().toISOString()};return e&&(h.reason=e),Z_DB.collection('approval_requests').add(h).then(function(){return Z_LOAD_APPR(),Z_UPD_APPR_BTN(),Z_UPD_COUNTS(),ba%2_4('‚úÖ Approval request submitted successfully','success')}).catch(function(a){console.error('Error creating approval request:',a),alert('Failed to create approval request: '+a.message)})}function Z_UPD_APPR_BTN(){var a=document.getElementById('bA');if(a){var b=Z_USER(Z_CUR());if(!b||!Z_CAN_APPR())return void(a.style.display='none');var c=window.Z_APPR;b.role==='admin'&&(c=c.filter(function(a){return a.requestedByRole==='staff'||a.requestedByRole==='admin'})),c.length>0?(a.style.display='inline-block',a.innerHTML='‚úÖ APPROVALS <span id="bC" class="bC">'+c.length+'</span>',a.style.background='#e67e22'):a.style.display='none'}}function Z_UPD_COUNTS(){var a=document.getElementById('bA'),b=document.getElementById('bC'),c=Z_USER(Z_CUR());if(c){var d=window.Z_APPR;c.role==='admin'&&(d=d.filter(function(a){return a.requestedByRole==='staff'||a.requestedByRole==='admin'}));var e=d.length;b&&(b.textContent=e,b.className='bC '+(e===0?'bD':'')),a&&(Z_CAN_APPR()&&e>0?a.style.display='inline-block':a.style.display='none');var f=document.getElementById('bJ');f&&(f.style.display=c.role==='super admin'?'inline-block':'none');var g=document.getElementById('bE');g&&(g.style.display=c.role!=='super admin'?'inline-block':'none'),Z_PULSE()}}function Z_PULSE(){console.log('Refreshing pulses...');var a=Z_USER(Z_CUR());if(a){Z_REM_PULSE('bJ'),Z_REM_PULSE('bE'),Z_REM_PULSE('bA');if(a.role==='super admin'&&window.Z_APPR.length>0)Z_ADD_PULSE('bJ');if(a.role!=='super admin'){var b=window.Z_APPR.filter(function(b){return b.requestedBy===a.username&&b.status==='pending'}).length;b>0&&Z_ADD_PULSE('bE')}if(Z_CAN_APPR()){var c=window.Z_APPR;if(a.role==='admin')c=c.filter(function(a){return a.requestedByRole==='staff'||a.requestedByRole==='admin'});c.length>0&&Z_ADD_PULSE('bA')}}}function Z_ADD_PULSE(a){var b=document.getElementById(a);b&&(b.style.position='relative',b.classList.add('aU'),console.log('Pulse added to '+a))}function Z_REM_PULSE(a){var b=document.getElementById(a);b&&(b.classList.remove('aU'),console.log('Pulse removed from '+a))}function Z_LOAD_APPR(){return Z_DB.collection('approval_requests').where('status','==','pending').orderBy('createdAt','desc').get().then(function(a){window.Z_APPR=a.docs.map(function(a){return Object.assign({id:a.id},a.data())}),console.log('Found '+window.Z_APPR.length+' pending requests'),Z_UPD_APPR_BTN(),Z_UPD_COUNTS(),Z_PULSE()}).catch(function(a){console.error('Error loading approval requests:',a),window.Z_APPR=[],Z_UPD_COUNTS()})}function Z_RENDER_LINKS(){var a=document.getElementById('ba%5_');if(a){var b=Z_USER(Z_CUR()),c=Z_CAN_DEL_LINK(),d=b&&b.role==='super admin';window.Z_LINK&&window.Z_LINK.length!==0?a.innerHTML=window.Z_LINK.map(function(a){return'<tr><td>'+(a.institution||'')+'</td><td><a href="'+a.website+'" target="_blank">'+a.website+'</a></td><td>'+(a.email||'')+'</td><td><div class="bB">'+(c&&d?'<button class="bp" onclick="Z_DEL_LINK(\''+a.id+'\')">Delete</button>':c&&!d?'<button class="bC" onclick="Z_DEL_LINK(\''+a.id+'\')">Request Delete</button>':'‚Äî')+'</div></td></tr>'}).join(''):a.innerHTML='<tr><td colspan="4" style="text-align:center;padding:20px">No links found.</td></tr>'}}function Z_CAN_DEL_LINK(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function Z_DEL_LINK(a){if(!Z_CAN_DEL_LINK())return void alert("You don't have permission to delete links");var b=window.Z_LINK.find(function(b){return b.id===a});if(b){var c=Z_USER(Z_CUR());if(c.role==='super admin'){if(confirm('Are you sure you want to delete this link?'))Z_DB.collection('links').doc(a).delete().then(function(){return Z_LOG('DELETE_LINK',{institution:b?.institution,website:b?.website,deletedBy:Z_CUR()})}).then(function(){return Z_LOAD_ALL(!0)}).then(function(){Z_RENDER_LINKS(),ba%2_4('Link deleted successfully')}).catch(function(a){console.error('Error deleting link:',a),alert('Failed to delete link')})}else Z_OPEN_REASON('link',a,b.institution,function(b,c,d,e){Z_CREATE_APPR('link',{name:d},'delete',c,e),ba%2_4('Delete request submitted for approval','info')})}}function Z_OPEN_REASON(a,b,c,d){document.getElementById('bb4').innerHTML='State Reason for '+a+' Deletion',document.getElementById('bb8').value=a,document.getElementById('bb9').value=b,document.getElementById('bb_').value=c,document.getElementById('bb5').value='',window.Z_REASON_CB=d,document.getElementById('bw').style.display='flex'}function bb7(){document.getElementById('bw').style.display='none',document.getElementById('bb5').value='',window.Z_REASON_CB=null}function bb6(){var a=document.getElementById('bb5').value.trim();if(!a)return void alert('Please provide a reason for deletion');var b=document.getElementById('bb8').value,c=document.getElementById('bb9').value,d=document.getElementById('bb_').value;window.Z_REASON_CB&&window.Z_REASON_CB(b,c,d,a),bb7()}function Z_OPEN_CAT_MODAL(){Z_CAN_CREATE_CAT()||Z_CAN_EDIT_CAT()?function(){var a=document.getElementById('ba$_8_').value;document.getElementById('ba$_7_').innerHTML=a?'‚úèÔ∏è Edit Category':'‚ûï Add New Category',document.getElementById('ba%1_').innerHTML=a?'Update Category':'Create Category',document.getElementById('ba$_9_').value=a?window.Z_CAT.find(function(b){return b.id===a})?.name||'':'',document.getElementById('categoryModal').style.display='flex'}():alert('You do not have permission to create/edit categories')}function Z_CAN_CREATE_CAT(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function Z_CAN_EDIT_CAT(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function ba%2_(){document.getElementById('categoryModal').style.display='none',document.getElementById('ba$_8_').value='',document.getElementById('ba$_9_').value=''}function ba$_7_(){if(!Z_CAN_EDIT_CAT())return void alert('You do not have permission to edit categories');var a=window.Z_CAT.find(function(a){return a.name===window.Z_CUR_CAT});a&&(document.getElementById('ba$_8_').value=a.id,Z_OPEN_CAT_MODAL())}function ba%0_(){if(!Z_CAN_CREATE_CAT()&&!Z_CAN_EDIT_CAT())return void alert('You do not have permission to create/edit categories');var a=document.getElementById('ba$_9_').value.trim(),b=document.getElementById('ba$_8_').value;if(!a)return void alert('Category name is required');var c=Z_USER(Z_CUR());if(b){var d=window.Z_CAT.find(function(a){return a.id===b});if(Z_CAN_EDIT_CAT_WO_APPR())Z_DB.collection('categories').doc(b).update({name:a,lastModifiedBy:Z_CUR(),lastModifiedAt:new Date().toISOString()}).then(function(){return Z_LOG('UPDATE_CATEGORY',{categoryId:b,oldName:d?.name,newName:a,updatedBy:Z_CUR()})}).then(function(){return Z_LOAD_ALL(!0)}).then(function(){Z_RENDER_CAT(),ba%2_(),ba%2_4('Category updated to "'+a+'" successfully','success'),Z_POP_CAT(),document.getElementById('br').style.display==='block'&&(document.getElementById('ba$_4').textContent=a)}).catch(function(a){console.error('Error:',a),alert('Failed to save category: '+a.message)});else Z_CREATE_APPR('category',{name:a},'edit',b,null,d),ba%2_(),ba%2_4('Category edit request submitted for approval','info')}else{if(Z_CAN_CREATE_CAT_WO_APPR())Z_DB.collection('categories').add({name:a,createdAt:new Date().toISOString(),createdBy:Z_CUR()}).then(function(){return Z_LOG('CREATE_CATEGORY',{name:a,createdBy:Z_CUR()})}).then(function(){return Z_LOAD_ALL(!0)}).then(function(){Z_RENDER_CAT(),ba%2_(),ba%2_4('Category "'+a+'" created successfully','success'),Z_POP_CAT()}).catch(function(a){console.error('Error:',a),alert('Failed to save category: '+a.message)});else Z_CREATE_APPR('category',{name:a},'add',null),ba%2_(),ba%2_4('Category creation request submitted for approval','info')}}function Z_CAN_EDIT_CAT_WO_APPR(){var a=Z_USER(Z_CUR());return a&&a.role==='super admin'}function Z_CAN_CREATE_CAT_WO_APPR(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin')}function ba%2_4(a,b){var c=document.getElementById('notification');c.textContent=a,c.className='b_ '+b,c.style.display='block',c.style.background=b==='success'?'#173979':b==='info'?'#3498db':'#ff4d4d',setTimeout(function(){c.style.display='none'},4e3)}function Z_GET_USERS(a){return Z_GET_CACHE('users',a).then(function(a){window.Z_USR=a,console.log('Loaded users:',window.Z_USR.map(function(a){return{username:a.username,hasDocs:!!a.documents,docKeys:a.documents?Object.keys(a.documents):[]}}))}).catch(function(a){console.error('Error getting users:',a)})}function Z_GET_CACHE(a,b){var c=window.Z_CACHE[a];if(!b&&c.data&&Date.now()-c.timestamp<3e4)return Promise.resolve(c.data);var d;return d=a==='approvalRequests'?Z_DB.collection('approval_requests').where('status','==','pending').orderBy('createdAt','desc').get():Z_DB.collection(a).get(),d.then(function(b){var d=b.docs.map(function(b){return Object.assign({id:b.id},b.data())});return c.data=d,c.timestamp=Date.now(),d})}function Z_LOAD_ALL(a){return Promise.all([Z_GET_CACHE('categories',a),Z_GET_CACHE('suppliers',a),Z_GET_CACHE('links',a)]).then(function(a){window.Z_CAT=a[0],window.Z_SUP=a[1],window.Z_LINK=a[2],console.log('‚úÖ Data loaded from '+(a?'Firestore':'cache'))}).catch(function(a){console.error('Error loading data:',a)})}function Z_INIT_COLL(){Z_DB.collection('categories').limit(1).get().then(function(a){if(a.empty){var b=["Stationery & Office Supplies","ICT Equipment & Services","Cleaning Services & Materials","Catering & Refreshments","Furniture & Furnishings","Printing & Publishing","Construction & Maintenance","Transport & Logistics","Consultancy Services","Security Services"];return Promise.all(b.map(function(a){return Z_DB.collection('categories').add({name:a,createdAt:new Date().toISOString()})})).then(function(){return Z_LOG('SYSTEM_INIT',{action:'Default categories created'})})}}).then(function(){return Z_DB.collection('links').limit(1).get()}).then(function(a){if(a.empty)return Z_DB.collection('links').add({institution:'Public Procurement Authority',website:'https://www.ppa.org.zm',email:'info@ppa.org.zm',createdAt:new Date().toISOString()}),Z_DB.collection('links').add({institution:'ZPPA',website:'https://www.zppa.org.zm',email:'director@zppa.org.zm',createdAt:new Date().toISOString()}),Z_LOG('SYSTEM_INIT',{action:'Default links created'})}).catch(function(a){console.error('Error initializing collections:',a)})}function Z_ENSURE_USERS(){return Z_DB.collection('users').get().then(function(a){if(a.empty){var b=[{fullName:'Joseph Zulu',username:'JOSEPH',password:'RIGHTJOSEPH',role:'super admin',enabled:!0,nrc:'123456/78/1',email:'zulujosephp@gmail.com',phone:'+260973031254',institution:'ZAMCOM',position:'Procurement Lead',documents:{},createdAt:new Date().toISOString(),lastActive:null},{fullName:'Chishala Banda',username:'CHISHALA',password:'RIGHTCHISHALA',role:'staff',enabled:!0,nrc:'998877/66/5',email:'chishala@zamcom.zm',phone:'+260977123456',institution:'ZAMCOM',position:'Procurement Officer',documents:{},createdAt:new Date().toISOString(),lastActive:null}];return Promise.all(b.map(function(a){return Z_DB.collection('users').add(a)}))["catch"](function(a){console.error('Error ensuring users:',a)})}else{var c=a.docs.find(function(b){return b.data().username==='JOSEPH'});c&&c.data().enabled===!1&&Z_DB.collection('users').doc(c.id).update({enabled:!0})}}).catch(function(a){console.error('Error ensuring users:',a)})}function Z_CAN_VIEW_AUDIT(){var a=Z_USER(Z_CUR());return a&&(a.role==='admin'||a.role==='super admin')}function Z_CAN_DEL_AUDIT(){var a=Z_USER(Z_CUR());return a&&a.role==='super admin'}function Z_LOAD_AUDIT(a){return Z_DB.collection('audit_logs').orderBy('timestamp','desc').limit(100).get().then(function(a){window.Z_AUDIT=a.docs.map(function(a){return Object.assign({id:a.id},a.data())}),window.Z_AUDIT_PAGES=Math.ceil(window.Z_AUDIT.length/20)||1,window.Z_AUDIT_PAGE=1,console.log('Loaded '+window.Z_AUDIT.length+' audit logs')})["catch"](function(a){console.error('Error loading audit logs:',a)})}function ba%9_(){if(!Z_CAN_DEL_AUDIT())return void alert('Only super admin can delete audit logs');if(confirm('‚ö†Ô∏è Delete ALL audit logs? This action CANNOT be undone.')){ba%2_4('Deleting all audit logs...','info');Z_DB.collection('audit_logs').get().then(function(a){var b=Z_DB.batch();return a.docs.forEach(function(a){b.delete(a.ref)}),b.commit().then(function(){return Z_LOG('DELETE_ALL_AUDIT_LOGS',{count:a.size,deletedBy:Z_CUR()})})}).then(function(){return Z_LOAD_AUDIT()}).then(function(){Z_RENDER_AUDIT(),ba%2_4('‚úÖ Deleted audit logs successfully','success')})["catch"](function(a){console.error('Error deleting audit logs:',a),alert('Failed to delete audit logs: '+a.message)})}}function Z_RENDER_AUDIT(){var a=document.getElementById('ba$_0_'),b=document.getElementById('ba$_1_');if(!a)return;if(!window.Z_AUDIT||window.Z_AUDIT.length===0){a.innerHTML='<div style="text-align:center;padding:60px;color:#666">üì≠ No audit logs found</div>',b&&(b.innerHTML='');return}var c=(window.Z_AUDIT_PAGE-1)*20,d=c+20,e=window.Z_AUDIT.slice(c,d),f='<div class="bm">';e.forEach(function(a){var b=new Date(a.timestamp||new Date).toLocaleString(),c=a.readableMessage||(a.userFullName||a.user||'SYSTEM')+' performed '+a.action,d='üìù';c.includes('CREATE')?d='‚ûï':c.includes('UPDATE')||c.includes('EDIT')?d='‚úèÔ∏è':c.includes('DELETE')?d='üóëÔ∏è':c.includes('APPROVE')?d='‚úÖ':c.includes('REJECT')?d='‚ùå':c.includes('LOGIN')?d='üîì':c.includes('LOGOUT')&&(d='üîí');var e='',g=a.changeDetails&&a.changeDetails.length>0?'<div style="margin-top:15px;padding:15px;background:#f8f9fa;border-radius:12px;border-left:4px solid #3498db"><div style="font-weight:600;color:#2c3e50;margin-bottom:10px;font-size:13px">üìã DETAILED CHANGES:</div><div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:8px">'+a.changeDetails.map(function(a){return'<div style="font-size:12px;padding:6px 10px;background:#fff;border-radius:6px;border:1px solid #e0e0e0"><span style="color:#2c3e50">'+a+'</span></div>'}).join('')+'</div></div>':'';f+='<div class="bm" style="margin-bottom:20px;padding:20px;background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,0.02);border-left:6px solid '+Z_ACT_COL(a.action)+'"><div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px"><div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap"><span class="bn" style="background:#f0f0f0;padding:6px 12px;border-radius:30px;font-size:12px;color:#666">'+d+' '+b+'</span><span style="background:'+Z_ACT_COL(a.action)+'20;color:'+Z_ACT_COL(a.action)+';padding:4px 12px;border-radius:30px;font-size:11px;font-weight:600">'+a.action+'</span></div><span style="font-size:12px;color:#666;background:#f8f9fa;padding:4px 10px;border-radius:20px">üë§ '+(a.userFullName||a.user)+'</span></div><div style="font-size:15px;line-height:1.6;color:#2c3e50;padding:5px 0">'+c+'</div>'+e+(a.details?.reason?'<div style="margin-top:10px;padding:10px 15px;background:#fff8e7;border-radius:8px;font-size:13px;color:#e67e22;border-left:4px solid #f39c12"><strong>üìù Reason provided:</strong> '+a.details.reason+'</div>':'')+'<div style="margin-top:8px;font-size:11px;color:#999;font-family:monospace;border-top:1px dashed #eee;padding-top:8px">Log ID: '+(a.id?a.id.substring(0,8):'')+'...</div></div>'}),f+='</div>',a.innerHTML=f;var g='';window.Z_AUDIT_PAGES>1&&(g+='<div class="bl" style="display:flex;gap:15px;justify-content:center;margin-top:20px">',window.Z_AUDIT_PAGE>1&&(g+='<button class="by bG" onclick="Z_CHG_AUDIT('+(window.Z_AUDIT_PAGE-1)+')">‚Üê Previous</button>'),g+='<span style="font-size:14px;padding:8px 16px;background:#fff;border-radius:30px">Page '+window.Z_AUDIT_PAGE+' of '+window.Z_AUDIT_PAGES+'</span>',window.Z_AUDIT_PAGE<window.Z_AUDIT_PAGES&&(g+='<button class="by bG" onclick="Z_CHG_AUDIT('+(window.Z_AUDIT_PAGE+1)+')">Next ‚Üí</button>'),g+='</div>'),b.innerHTML=g}function Z_ACT_COL(a){return a.includes('CREATE')||a.includes('ADD')?'#27ae60':a.includes('UPDATE')||a.includes('EDIT')?'#f39c12':a.includes('DELETE')?'#e74c3c':a.includes('APPROVE')?'#2ecc71':a.includes('REJECT')?'#e74c3c':a.includes('LOGIN')?'#3498db':a.includes('LOGOUT')?'#95a5a6':'#7f8c8d'}function Z_CHG_AUDIT(a){window.Z_AUDIT_PAGE=a,Z_RENDER_AUDIT()}function ba%7_(){if(!Z_CAN_DEL_AUDIT())return void alert('Only super admin can delete audit logs');if(confirm('Delete the last 50 audit logs?')){ba%2_4('Deleting last 50 audit logs...','info');Z_DB.collection('audit_logs').orderBy('timestamp','desc').limit(50).get().then(function(a){var b=Z_DB.batch();return a.docs.forEach(function(a){b.delete(a.ref)}),b.commit().then(function(){return Z_LOG('DELETE_LAST_50_AUDIT_LOGS',{count:a.size,deletedBy:Z_CUR()})})}).then(function(){return Z_LOAD_AUDIT()}).then(function(){Z_RENDER_AUDIT(),ba%2_4('‚úÖ Deleted 50 audit logs successfully','success')})["catch"](function(a){console.error('Error deleting audit logs:',a),alert('Failed to delete audit logs: '+a.message)})}}function Z_TOG_HIST(a){var b=document.getElementById(a);b&&(b.style.display=b.style.display==='none'?'table-row':'none')}function Z_SUP_HIST(a){var b=a.modifications||[];if(b.length===0)return'<div style="text-align:center;padding:30px;color:#999;background:#fff;border-radius:12px"><span style="font-size:24px;display:block;margin-bottom:10px">üì≠</span>No activity history yet</div>';var c=b.slice(0,10);return c.map(function(a,b){var c=a.modifiedAt?new Date(a.modifiedAt).toLocaleString():'',d=a.action==='delete'?'#e74c3c':a.action==='create'?'#27ae60':'#f39c12';return'<div style="margin-bottom:'+(b===c.length-1?'0':'15px')+';padding:15px;background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.02);border-left:4px solid '+d+'"><div style="display:flex;gap:12px;align-items:center;margin-bottom:8px;flex-wrap:wrap"><span style="background:'+d+';color:#fff;padding:4px 16px;border-radius:30px;font-size:11px;font-weight:700;text-transform:uppercase">'+(a.action||'UPDATE')+'</span><span style="color:#173979;font-weight:600;font-size:14px">üë§ '+(a.modifiedBy||'SYSTEM')+'</span><span style="color:#666;font-size:12px">üïê '+c+'</span></div><div style="font-size:14px;color:#2c3e50;line-height:1.6">'+(a.description||(a.field?'<span style="font-weight:500">'+a.field+':</span> <span style="color:#e74c3c;text-decoration:line-through;background:#fee9e7;padding:2px 8px;border-radius:4px;margin:0 8px">'+(a.old||'empty')+'</span> ‚Üí <span style="color:#27ae60;background:#e8f8f5;padding:2px 8px;border-radius:4px">'+(a.new||'empty')+'</span>':'Activity recorded'))+'</div></div>'}).join('')}function ba$_5_2(){var a=Z_USER(Z_CUR());if(!Z_CAN_EDIT_USER())return void alert('You don\'t have permission to edit users');var b=document.getElementById('ba$_5_1').value,c=window.Z_USR.find(function(a){return a.id===b});if(!c)return void alert('User not found');if(Z_IS_JOS(c.username)&&a.username!=='JOSEPH')return void alert('‚ö†Ô∏è Only JOSEPH can edit his own account details.');if(a.role==='staff'&&c.role!=='staff')return void alert('You can only edit staff users');if(a.role!=='super admin'&&c.role==='super admin')return void alert('You cannot edit a super admin user');var d=document.getElementById('ba$_6_1').value.trim();if(!d)return void alert('Full Name is required');var e={fullName:d,role:document.getElementById('ba$_8_1').value,nrc:document.getElementById('ba$_9_1').value.trim(),email:document.getElementById('ba%0_2').value.trim(),phone:document.getElementById('ba%1_2').value.trim(),institution:document.getElementById('ba%2_2').value.trim(),position:document.getElementById('ba%3_2').value.trim(),enabled:document.getElementById('ba$_4_2').checked};if(Z_IS_JOS(c.username)&&(e.enabled=!0),document.getElementById('ba%4_2').value.trim()&&(e.password=document.getElementById('ba%4_2').value.trim()),window.Z_ED_DOC&&Object.keys(window.Z_ED_DOC).length>0&&(e.documents=Object.assign({},c.documents||{},window.Z_ED_DOC)),a.role!=='super admin'&&e.role==='super admin')return void alert('Only super admin can assign super admin role');if(a.role==='super admin'||a.username==='JOSEPH')Z_DB.collection('users').doc(b).update(e).then(function(){return Z_LOG('EDIT_USER',{username:c.username,fullName:d,changes:{}})}).then(function(){return Z_GET_USERS(!0)}).then(function(){ba$_6_2(),ba$2_5(),ba%2_4('User '+d+' updated successfully','success'),window.Z_ED_DOC={}})["catch"](function(a){console.error('Error updating user:',a),alert('Failed to update user: '+a.message)});else Z_CREATE_APPR('user',e,'edit',b),ba$_6_2(),ba$2_5(),ba%2_4('User edit request submitted for approval','info'),window.Z_ED_DOC={}}function Z_CAN_EDIT_USER(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function Z_IS_JOS(a){return a==='JOSEPH'}function ba$2_5(){var a=document.getElementById('ba%4_1');a&&(a.style.display='none'),Z_GET_USERS(!0).then(function(){var a=document.getElementById('ba$_1_1');if(a){var b=Z_USER(Z_CUR()),c='';window.Z_USR.forEach(function(d){if(!(b.role==='staff'&&d.role!=='staff')&&!(b.role==='admin'&&d.role==='super admin')){var e=b.role==='super admin',f=b.role==='admin',g='',h='',i=d.phone||'';b.role==='super admin'?(g=d.email||'',h=d.nrc||''):b.role==='admin'?d.role!=='super admin'&&(g='****@****',h='******'):b.role==='staff'&&d.role==='staff'&&(g='****@****',h='******');var j=d.enabled?'<span style="color:green;font-weight:bold">Enabled</span>':'<span style="color:red;font-weight:bold">Disabled</span>',k=(b.role==='super admin')||b.role==='admin'&&d.role!=='super admin'&&d.role!=='admin'||b.role==='staff'&&d.role==='staff',l=b.role==='super admin'&&!Z_IS_JOS(d.username)||b.role==='admin'&&d.role==='staff'||b.role==='staff'&&d.role==='staff'&&!Z_IS_JOS(d.username),m='';k&&(m+='<button class="bB" onclick="Z_EDIT_USER_MODAL(\''+d.id+'\')">Edit</button> '),l&&(m+='<button class="bp" onclick="Z_DEL_USER(\''+d.id+'\')">Delete</button>'),m||(m='‚Äî');var n=d.role.replace(' ','');c+='<tr><td>'+d.username+(Z_IS_JOS(d.username)?' üîí':'')+'<br><span style="font-size:11px;color:#666">'+(d.fullName||'')+'</span></td><td><span class="bf b'+n+'">'+d.role+'</span></td><td>'+i+'</td><td>'+g+'<br><span style="font-size:11px;color:#666">NRC: '+h+'</span></td><td>'+j+'<div style="display:flex;gap:5px;justify-content:center;margin-top:8px">'+(d.documents?.degree&&e?'<button onclick="Z_VIEW_USER_DOC(\''+d.id+'\',\'degree\',event)" style="background:#3498db;color:#fff;border:none;padding:5px 10px;border-radius:20px;font-size:12px;cursor:pointer;display:inline-flex;align-items:center;gap:5px" title="View Degree/Diploma"><span>üéì</span> Degree</button>':'<span style="color:#ccc;font-size:11px;background:#f0f0f0;padding:5px 10px;border-radius:20px">üéì No Degree</span>')+'</div><div style="display:flex;gap:5px;justify-content:center;margin-top:5px">'+(d.documents?.zips&&e?'<button onclick="Z_VIEW_USER_DOC(\''+d.id+'\',\'zips\',event)" style="background:#27ae60;color:#fff;border:none;padding:5px 10px;border-radius:20px;font-size:12px;cursor:pointer;display:inline-flex;align-items:center;gap:5px" title="View ZIPS Certificate"><span>üìú</span> ZIPS</button>':'<span style="color:#ccc;font-size:11px;background:#f0f0f0;padding:5px 10px;border-radius:20px">üìú No ZIPS</span>')+'</div><div style="display:flex;gap:5px;justify-content:center;margin-top:5px">'+(d.documents?.nrc&&e?'<button onclick="Z_VIEW_USER_DOC(\''+d.id+'\',\'nrc\',event)" style="background:#e67e22;color:#fff;border:none;padding:5px 10px;border-radius:20px;font-size:12px;cursor:pointer;display:inline-flex;align-items:center;gap:5px" title="View NRC"><span>ü™™</span> NRC</button>':'<span style="color:#ccc;font-size:11px;background:#f0f0f0;padding:5px 10px;border-radius:20px">ü™™ No NRC</span>')+'</div></td><td><div class="bB">'+m+'</div></td></tr>'}}),a.innerHTML=c,document.getElementById('ba%4_1').style.display='flex'})}function Z_VIEW_USER_DOC(a,b,c){c&&c.stopPropagation();var d=window.Z_USR.find(function(b){return b.id===a});if(!d)return void alert('User not found');if(!d.documents||!d.documents[b])return void alert('Document not found for this user');var e=d.documents[b];window.Z_VIEW_DOC={userId:a,docType:b,doc:e};var f={'degree':'üéì Degree/Diploma Certificate','zips':'üìú ZIPS Membership Certificate','nrc':'ü™™ National Registration Card (NRC)'};document.getElementById('ba$_9_0').innerHTML=(f[b]||'Document')+' - '+(d.fullName||d.username);var g=document.getElementById('ba%1_1'),h=e.type&&(e.type.startsWith('image/')||e.name&&e.name.match(/\.(jpg|jpeg|png|gif|webp)$/i));g.innerHTML=h?'<div style="text-align:center;width:100%"><img src="'+e.data+'" style="max-width:100%;max-height:70vh;object-fit:contain;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)"><div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;text-align:left;width:100%;max-width:600px"><p><strong>File Name:</strong> '+e.name+'</p><p><strong>Uploaded:</strong> '+new Date(e.uploadedAt).toLocaleString()+'</p><p><strong>File Size:</strong> '+(e.size/1024).toFixed(1)+' KB</p><p><strong>File Type:</strong> '+(e.type||'Unknown')+'</p></div></div>':'<div style="width:100%;height:70vh;display:flex;flex-direction:column;align-items:center"><iframe src="'+e.data+'" style="width:100%;height:100%;border:none;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15)"></iframe><div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;text-align:left;width:100%;max-width:600px"><p><strong>File Name:</strong> '+e.name+'</p><p><strong>Uploaded:</strong> '+new Date(e.uploadedAt).toLocaleString()+'</p><p><strong>File Size:</strong> '+(e.size/1024).toFixed(1)+' KB</p><p><strong>File Type:</strong> '+(e.type||'PDF Document')+'</p></div></div>',document.getElementById('ba$_8_0').style.display='flex'}function ba%3_1(){if(window.Z_VIEW_DOC){var a=window.Z_VIEW_DOC.doc,b=document.createElement('a');b.href=a.data,b.download=a.name||'document',document.body.appendChild(b),b.click(),document.body.removeChild(b)}}function Z_EDIT_USER_MODAL(a){var b=window.Z_USR.find(function(b){return b.id===a});if(!b)return void alert('User not found');var c=Z_USER(Z_CUR());if(Z_IS_JOS(b.username)&&c.username!=='JOSEPH')return void alert('‚ö†Ô∏è You CANNOT edit this super admin.');if(c.role==='staff'&&b.role!=='staff')return void alert('You can only edit staff users');if(c.role!=='super admin'&&b.role==='super admin')return void alert('You cannot edit a super admin user');document.getElementById('ba$_5_1').value=b.id,document.getElementById('ba$_6_1').value=b.fullName||'',document.getElementById('ba$_7_1').value=b.username,document.getElementById('ba$_8_1').value=b.role,document.getElementById('ba$_9_1').value=b.nrc||'',document.getElementById('ba%0_2').value=b.email||'',document.getElementById('ba%1_2').value=b.phone||'',document.getElementById('ba%2_2').value=b.institution||'',document.getElementById('ba%3_2').value=b.position||'',document.getElementById('ba%4_2').value='',document.getElementById('ba$_4_2').checked=b.enabled!==!1,Z_IS_JOS(b.username)?document.getElementById('ba$_4_2').disabled=!0:document.getElementById('ba$_4_2').disabled=!1,window.Z_ED_DOC={},['ba%7_2','ba%9_2','ba$_1_2'].forEach(function(a){var b=document.getElementById(a);b&&(b.innerHTML='')});var d=document.getElementById('ba$_3_2');if(d){var e='';b.documents?.degree&&(e+='<div style="margin-bottom:5px"><span style="background:#3498db;color:#fff;padding:2px 8px;border-radius:12px;font-size:11px">üéì Degree</span> '+b.documents.degree.name+' <button onclick="Z_VIEW_USER_DOC(\''+b.id+'\',\'degree\')" style="background:none;border:none;color:var(--c);cursor:pointer">View</button></div>'),b.documents?.zips&&(e+='<div style="margin-bottom:5px"><span style="background:#27ae60;color:#fff;padding:2px 8px;border-radius:12px;font-size:11px">üìú ZIPS</span> '+b.documents.zips.name+' <button onclick="Z_VIEW_USER_DOC(\''+b.id+'\',\'zips\')" style="background:none;border:none;color:var(--c);cursor:pointer">View</button></div>'),b.documents?.nrc&&(e+='<div style="margin-bottom:5px"><span style="background:#e67e22;color:#fff;padding:2px 8px;border-radius:12px;font-size:11px">ü™™ NRC</span> '+b.documents.nrc.name+' <button onclick="Z_VIEW_USER_DOC(\''+b.id+'\',\'nrc\')" style="background:none;border:none;color:var(--c);cursor:pointer">View</button></div>'),e||(e='<p style="color:#999;font-style:italic">No documents uploaded</p>'),d.innerHTML=e}c.role!=='super admin'&&c.username!=='JOSEPH'?document.getElementById('ba$_8_1').disabled=!0:document.getElementById('ba$_8_1').disabled=!1,document.getElementById('ba$_3_1').style.display='flex'}function Z_DEL_USER(a){if(!Z_CAN_DEL_USER(a))return void alert("You don't have permission to delete this user");var b=window.Z_USR.find(function(b){return b.id===a});if(!b)return;if(Z_IS_JOS(b.username))return void alert('‚ö†Ô∏è JOSEPH is a protected system account and cannot be deleted.');var c=Z_USER(Z_CUR());if(c.role==='staff'&&b.role!=='staff')return void alert('You can only delete staff users');if(c.role==='super admin'){if(confirm('Are you sure you want to permanently delete user '+b.username+'?'))Z_DB.collection('users').doc(a).delete().then(function(){return Z_LOG('DELETE_USER',{username:b.username,role:b.role,deletedBy:Z_CUR()})}).then(function(){return Z_GET_USERS(!0)}).then(function(){ba$2_5(),ba%2_4('User '+b.username+' deleted successfully')})["catch"](function(a){console.error('Error deleting user:',a),alert('Failed to delete user')})}else Z_OPEN_REASON('user',a,b.username,function(b,c,d,e){Z_CREATE_APPR('user',{name:d,role:b.role,fullName:b.fullName},'delete',c,e),ba%2_4('User deletion request submitted for approval','info'),ba$2_5()})}function Z_CAN_DEL_USER(a){var b=Z_USER(Z_CUR()),c=window.Z_USR.find(function(b){return b.id===a});return b&&!!(b.role==='super admin'||b.role==='admin'&&c?.role==='staff'||b.role==='staff'&&c?.role==='staff')&&(!(c&&Z_IS_JOS(c.username)))}function ba$2_4(){ba$2_5()}function ba$2_5(){ba$2_5()}function ba%6_2(a,b){var c=b.files[0];if(c){if(c.size>3145728)return void alert('File size exceeds 3MB limit for '+a+' document');var d=new FileReader;d.onload=function(d){if(a.startsWith('edit')){var e=a.replace('edit','').toLowerCase();window.Z_ED_DOC||(window.Z_ED_DOC={}),window.Z_ED_DOC[e]={name:c.name,type:c.type,size:c.size,data:d.target.result,uploadedAt:new Date().toISOString()};var f=document.getElementById(a+'DocPreview');f&&(f.innerHTML='<span style="color:var(--a)">‚úì '+c.name.substring(0,20)+(c.name.length>20?'...':'')+'</span>')}else{window.Z_NEW_DOC||(window.Z_NEW_DOC={}),window.Z_NEW_DOC[a]={name:c.name,type:c.type,size:c.size,data:d.target.result,uploadedAt:new Date().toISOString()};var g=document.getElementById('new'+a.charAt(0).toUpperCase()+a.slice(1)+'DocPreview');g&&(g.innerHTML='<span style="color:var(--a)">‚úì '+c.name.substring(0,20)+(c.name.length>20?'...':'')+'</span>')}},d.readAsDataURL(c)}}function ba$_5_3(){if(!Z_CAN_ADD_USER())return void alert("You don't have permission to add users");var a=document.getElementById('ba$_9_2')?.value?.trim()||'',b=document.getElementById('ba%0_3')?.value?.toUpperCase().trim()||'',c=document.getElementById('ba%1_3')?.value||'staff',d=document.getElementById('ba%2_3')?.value?.trim()||'',e=document.getElementById('ba%3_3')?.value?.trim()||'',f=document.getElementById('ba%4_3')?.value?.trim()||'',g=document.getElementById('ba%5_3')?.value?.trim()||'',h=document.getElementById('ba%6_3')?.value?.trim()||'',i=document.getElementById('ba%7_3')?.value?.trim()||'';if(!a||!b||!i||!c||!d)return void alert('Please fill in all required fields');if(window.Z_USR.find(function(a){return a.username===b}))return void alert('Username already exists');var j=Z_USER(Z_CUR());if(!j)return void alert('You must be logged in to create a user');if(c==='super admin'&&j.role!=='super admin')return void alert('Only super admin can create super admin users');if(j.role==='staff'&&c!=='staff')return void alert('Staff can only create staff users');var k={fullName:a,username:b,password:i,role:c,nrc:d,email:e,phone:f,institution:g,position:h,documents:{},enabled:!0,createdAt:new Date().toISOString(),lastActive:null};window.Z_NEW_DOC&&(k.documents.degree=window.Z_NEW_DOC.degree,k.documents.zips=window.Z_NEW_DOC.zips,k.documents.nrc=window.Z_NEW_DOC.nrc),j.role==='staff'&&c==='staff'&&(!window.Z_NEW_DOC.degree||!window.Z_NEW_DOC.zips||!window.Z_NEW_DOC.nrc)&&alert('Please upload all required documents: Degree/Diploma, ZIPS Certificate, and NRC');else if(j.role==='super admin')Z_DB.collection('users').add(k).then(function(){return Z_LOG('CREATE_USER',{username:b,fullName:a,role:c,createdBy:Z_CUR()})}).then(function(){return Z_GET_USERS(!0)}).then(function(){ba$_6_3(),ba$2_5(),ba%2_4('User '+a+' ('+b+') created successfully'),window.Z_NEW_DOC={}}).catch(function(a){console.error('Error creating user:',a),alert('Failed to create user: '+a.message)});else Z_CREATE_APPR('user',k,'add',null),ba$_6_3(),ba$2_5(),ba%2_4('User addition request submitted for approval','info'),window.Z_NEW_DOC={}}function Z_CAN_ADD_USER(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function ba$_6_3(){document.getElementById('ba$_7_2').style.display='none',document.getElementById('ba$_9_2').value='',document.getElementById('ba%0_3').value='',document.getElementById('ba%1_3').value='staff',document.getElementById('ba%2_3').value='',document.getElementById('ba%3_3').value='',document.getElementById('ba%4_3').value='',document.getElementById('ba%5_3').value='',document.getElementById('ba%6_3').value='',document.getElementById('ba%7_3').value='',['ba$_0_3','ba$_2_3','ba$_4_3'].forEach(function(a){var b=document.getElementById(a);b&&(b.innerHTML='')}),window.Z_NEW_DOC={}}function ba%9_3(a,b){var c=b.files[0];if(c){if(c.size>3145728)return void alert('File size exceeds 3MB limit for '+a+' document');var d=new FileReader;d.onload=function(b){window.Z_NEW_DOC||(window.Z_NEW_DOC={}),window.Z_NEW_DOC[a]={name:c.name,type:c.type,size:c.size,data:b.target.result,uploadedAt:new Date().toISOString()};var d=document.getElementById('new'+a.charAt(0).toUpperCase()+a.slice(1)+'DocPreview');d&&(d.innerHTML='<span style="color:var(--a)">‚úì '+c.name.substring(0,20)+(c.name.length>20?'...':'')+'</span>')},d.readAsDataURL(c)}}function bG(){var a=Z_CUR(),b=Z_USER(a);b?Z_GET_USERS(!0).then(function(){ba$2_5()}).catch(function(a){console.error('Error:',a),alert('Failed to load users')}):alert('Please log in first')}function ba$2_5(){ba$2_5()}function ba%5_1(){Z_CAN_ADD_USER()?function(){document.getElementById('ba$_8_2').innerText='‚ûï Add New User',['ba$_9_2','ba%0_3','ba%2_3','ba%3_3','ba%4_3','ba%5_3','ba%6_3','ba%7_3'].forEach(function(a){var b=document.getElementById(a);b&&(b.value='')}),['ba$_0_3','ba$_2_3','ba$_4_3'].forEach(function(a){var b=document.getElementById(a);b&&(b.innerHTML='')}),window.Z_NEW_DOC={},document.getElementById('ba%1_3').value='staff';var a=Z_USER(Z_CUR());if(a.role==='staff'){var b=document.getElementById('ba%1_3');for(var c=0;c<b.options.length;c++)b.options[c].value!=='staff'&&(b.options[c].disabled=!0)}else if(a.role==='admin'){var d=document.getElementById('ba%1_3');for(var e=0;e<d.options.length;e++)d.options[e].value==='super admin'?d.options[e].disabled=!0:d.options[e].disabled=!1}else a.role==='super admin'&&document.querySelectorAll('#ba%1_3 option').forEach(function(a){a.disabled=!1});document.getElementById('ba$_7_2').style.display='flex'}:alert("You don't have permission to add users")}function Z_CAN_ADD_USER(){return Z_USER(Z_CUR())&&!0}function Z_LOG(a,b){Z_DB.collection('audit_logs').add({timestamp:new Date().toISOString(),user:Z_CUR(),action:a,details:b||{}}).catch(function(a){console.error('Error creating audit log:',a)})}function ba$6_0(){alert('This function is not available in this version')}function ba%6_0(){alert('This function is not available in this version')}function ba%0_4(){alert('This function is not available in this version')}function ba%1_4(){document.getElementById('linkModal').style.display='none'}function bv(a){['homeView','br','bs','bt','bu','bv','bw'].forEach(function(b){var c=document.getElementById(b);c&&(c.style.display='none')}),a==='home'?(document.getElementById('homeView').style.display='block',Z_RENDER_CAT()):a==='category'?document.getElementById('br').style.display='block':a==='about'?document.getElementById('bs').style.display='block':a==='contact'?document.getElementById('bt').style.display='block':a==='links'?(document.getElementById('bu').style.display='block',Z_RENDER_LINKS()):a==='auditLogs'&&document.getElementById('bv').style.display='block'}function ba%1_(){if(!Z_CAN_VIEW_AUDIT())return void alert('You do not have permission to view audit logs');bv('auditLogs'),Z_LOAD_AUDIT(!0).then(function(){Z_RENDER_AUDIT()})}function bI(){if(!Z_CAN_SESS())return void alert('You do not have permission to view sessions');var a=document.getElementById('bZ');if(a.style.display='block',a.style.display='block')return;Z_GET_USERS(!0).then(function(){var b=document.getElementById('ba$_6_'),c=new Date,d='';window.Z_USR.forEach(function(a){if(a.enabled){var e=a.lastActive?new Date(a.lastActive):null,f=e&&c-e<3e5,g='Never';if(e){var h=Math.floor((c-e)/6e4);g=h<1?'Just now':h<60?h+' min ago':Math.floor(h/60)+'h '+h%60+'m ago'}d+='<div style="padding:10px;border-bottom:1px solid #eee"><div style="display:flex;align-items:center;gap:8px"><span class="b_ '+(f?'b` bb':'ba')+'"></span><strong>'+a.username+'</strong><span style="font-size:11px;background:#f0f0f0;padding:2px 6px;border-radius:12px">'+a.role+'</span></div><div style="font-size:11px;color:#666;margin-top:4px">Last active: '+g+'</div></div>'}}),b.innerHTML=d||'<p style="padding:15px;text-align:center;color:#888">No users found</p>'})}function Z_CAN_SESS(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function ba$0(){alert('This function is not available in this version')}function ba$1(){alert('This function is not available in this version')}function ba$2(){alert('This function is not available in this version')}function ba$5(){Z_OPEN_CAT_MODAL()}function ba$7(){Z_OPEN_SUP_MODAL()}function Z_OPEN_SUP_MODAL(){Z_CAN_CREATE_SUP()?function(){document.getElementById('ba%3_').innerHTML='‚ûï Add New Supplier',document.getElementById('ba%4_').value='',document.getElementById('ba%5_').value='',document.getElementById('ba%6_').value='',document.getElementById('ba%7_').value='',document.getElementById('ba%8_').value='',document.getElementById('ba%9_').value='',document.getElementById('ba%8_0').value='',document.getElementById('ba%9_0').value='add',document.getElementById('star3').checked=!0,document.getElementById('ba$_02').checked=!1,document.getElementById('ba$_04').checked=!1,document.getElementById('ba$_06').checked=!1,document.getElementById('ba$_08').checked=!1,document.getElementById('ba$_0_').checked=!1,window.Z_UPLOAD={tpin:null,napsa:null,zra:null,zppa:null},['tpin','napsa','zra','zppa'].forEach(function(a){var b=document.getElementById('ba$_8_');b&&(b.innerHTML='')}),Z_UPD_COMP(),Z_POP_CAT(),document.getElementById('supplierModal').style.display='flex'}():alert('You do not have permission to add suppliers')}function Z_CAN_CREATE_SUP(){var a=Z_USER(Z_CUR());return a&&(a.role==='super admin'||a.role==='admin'||a.role==='staff')}function ba%7_0(){document.getElementById('supplierModal').style.display='none'}function Z_POP_CAT(){Z_POP_CAT()}function Z_OPEN_SUP_MODAL(){Z_OPEN_SUP_MODAL()}function ba%6_0(){ba%6_0()}function bz(){Z_LOAD_APPR().then(function(){var a=document.getElementById('ba$_1_0'),b=Z_USER(Z_CUR());if(!Z_CAN_APPR())return void alert('You do not have permission to approve requests');window.Z_APPR&&window.Z_APPR.length!==0?a.innerHTML='<div style="text-align:center;padding:40px;color:#666">‚úÖ No pending approval requests</div>':a.innerHTML='',document.getElementById('approvalRequestsModal').style.display='flex'})}function Z_CAN_APPR(){return Z_USER(Z_CUR())&&!0}function ba$_2_0(){document.getElementById('approvalRequestsModal').style.display='none'}function ba$_5_0(a){alert('This function is not available in this version')}function ba$_6_0(){document.getElementById('bc').style.display='flex'}function ba$_7_0(){document.getElementById('approvalActionModal').style.display='none'}function ba$1(){document.getElementById('bc').style.display='none'}function ba$2(){ba$1()}function ba$0(){alert('This function is not available in this version')}function b_(){alert('This function is not available in this version')}function ba(){document.getElementById('d').style.display='flex',document.getElementById('bf').style.display='none'}function bb(){document.getElementById('d').style.display='none',document.getElementById('bf').style.display='flex'}function bm(a,b){alert('This function is not available in this version')}function bs(){alert('This function is not available in this version')}function bD(){alert('This function is not available in this version')}function bK(){alert('This function is not available in this version')}function bU(){alert('This function is not available in this version')}function bV(){alert('This function is not available in this version')}function bX(){alert('This function is not available in this version')}function bY(){alert('This function is not available in this version')}function bZ(){alert('This function is not available in this version')}function b_$(){alert('This function is not available in this version')}function ba$(){alert('This function is not available in this version')}function ba0(){alert('This function is not available in this version')}function ba1(){alert('This function is not available in this version')}function ba2(){alert('This function is not available in this version')}function ba3(){alert('This function is not available in this version')}function ba4(){alert('This function is not available in this version')}function ba5(){alert('This function is not available in this version')}function ba6(){alert('This function is not available in this version')}function ba7(){alert('This function is not available in this version')}function ba8(){alert('This function is not available in this version')}function ba9(){alert('This function is not available in this version')}function ba_(){alert('This function is not available in this version')}function bb0(){alert('This function is not available in this version')}function bb1(){alert('This function is not available in this version')}function bb2(){alert('This function is not available in this version')}function bb3(){alert('This function is not available in this version')}function bb4(){alert('This function is not available in this version')}function bb5(){alert('This function is not available in this version')}function bb6(){alert('This function is not available in this version')}function bb7(){alert('This function is not available in this version')}function Z_GET_CACHE(a,b){return Promise.resolve([])}function Z_LOAD_ALL(a){return Promise.resolve()}function Z_INIT_COLL(){return Promise.resolve()}function Z_ENSURE_USERS(){return Promise.resolve()}function Z_CUR(){return localStorage.getItem('logged_user')}function Z_USER(a){return window.Z_USR.find(function(b){return b.username===a})}function Z_UI(){Z_RENDER_CAT()}function Z_RENDER_CAT(){var a=document.getElementById('ba%6');a&&(a.innerHTML='<p style="grid-column:1 / -1;text-align:center;color:#6b9080;padding:60px;font-size:1.2rem">Loading categories...</p>')}function Z_RENDER_LINKS(){var a=document.getElementById('ba%5_');a&&(a.innerHTML='<tr><td colspan="4" style="text-align:center;padding:20px">Loading links...</td></tr>')}function Z_UPD_COUNTS(){}function Z_PULSE(){}window.Z_CACHE={categories:{data:null,timestamp:0},suppliers:{data:null,timestamp:0},links:{data:null,timestamp:0},users:{data:null,timestamp:0},approvalRequests:{data:null,timestamp:0}},window.Z_USR=[],window.Z_CAT=[],window.Z_SUP=[],window.Z_LINK=[],window.Z_APPR=[],window.Z_AUDIT=[],window.Z_VIEW_DOCS=[],window.Z_VIEW_ENT=null,window.Z_FULL=null,window.Z_UPLOAD={tpin:null,napsa:null,zra:null,zppa:null},window.Z_VIEW_DOC=null,window.Z_REASON_CB=null,window.Z_LOCK_TMR=null,window.Z_HB=null,window.Z_NEW_DOC={},window.Z_ED_DOC={},window.Z_CUR_CAT='',window.Z_CUR_CAT_ID='',window.Z_AUDIT_PAGE=1,window.Z_AUDIT_PAGES=1,window.Z_PAGE=1,window.Z_ITEMS=20,function(){function a(){var a=localStorage.getItem('Z_LOCK'),b=Date.now();if(a)try{var c=JSON.parse(a);if(c.id&&b-c.timestamp<2e3)return document.getElementById('bP').style.display='block',!1}catch(a){}return localStorage.setItem('Z_LOCK',JSON.stringify({id:Math.random().toString(36).substring(2)+Date.now(),timestamp:b})),window.addEventListener('beforeunload',function(){var a=localStorage.getItem('Z_LOCK');if(a)try{var b=JSON.parse(a);b.id===Math.random().toString(36).substring(2)+Date.now()&&localStorage.removeItem('Z_LOCK')}catch(a){}}),window.addEventListener('storage',function(a){a.key==='Z_LOCK'&&a.newValue&&document.getElementById('bP').style.display='block'}),!0}document.addEventListener('keydown',function(a){a.key==='Escape'&&(ba9(),ba6())}),window.onclick=function(a){var b=document.getElementById('y'),c=document.getElementById('af');(a.target===b||a.target===c)&&(ba9(),ba6())},a()&&(document.getElementById('a').style.display='flex',document.getElementById('bf').style.display='none',Z_ENSURE_USERS().then(function(){return Z_GET_USERS(!0)}).then(function(){setTimeout(function(){document.getElementById('a').style.opacity='0',setTimeout(function(){document.getElementById('a').style.display='none',document.getElementById('bf').style.display='flex'},500)},1e3)}).catch(function(a){console.error('Init error:',a),document.getElementById('a').style.opacity='0',setTimeout(function(){document.getElementById('a').style.display='none',document.getElementById('bf').style.display='flex'},500)}),setInterval(function(){var a=document.getElementById('bt');a&&(a.style.backgroundImage='linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(\'./images/bgx.jpg\')')},5e3),setInterval(function(){var a=document.getElementById('bS');if(a){var b=new Date;a.textContent=b.toLocaleTimeString('en-US',{hour12:!0,hour:'2-digit',minute:'2-digit',second:'2-digit'})}var c=document.getElementById('bN'),d=document.getElementById('bO'),e=Z_CUR();c&&d&&(Z_LOCK()?Z_CAN_ACCESS()?(c.className='b`',d.innerText='üîì SYSTEM LOCKED - You have after-hours access',d.style.color='var(--h)'):(c.className='ba',d.innerText='üîí SYSTEM LOCKED (07:30 - 16:50 only)',d.style.color='var(--b)')):(c.className='b`',d.innerText='‚úÖ SYSTEM OPERATIONAL (OPEN)',d.style.color='var(--a)'))},1e3))}()</script><footer style="text-align:center;padding:40px;background:#333;color:#fff;margin-top:40px"><img src="./images/logo1.png" width="130" height="50" alt="ZAMCOM" onerror="this.style.display='none'"><p>Designed by Joseph Zulu <br> Zed Supplier Directory <br>Procurement Departments<br> ¬© 2026 - Present</p><a href="#bt" style="color:var(--a);text-decoration:none">Back to Top</a></footer></body></html>
